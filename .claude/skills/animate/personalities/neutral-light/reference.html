<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Neutral Light Personality — Reference</title>
<link rel="stylesheet" href="motion.css">
<style>
  /* ================================================================
     REFERENCE PROTOTYPE: Data Room Setup Onboarding
     Tutorial walkthrough — 4 phases, ~14s loop.

     Demonstrates all neutral-light signature techniques:
     - Phase 0: Welcome with step indicators + slide stagger
     - Phase 1: Upload with spotlight + cursor simulation
     - Phase 2: Organize with slide stagger + tooltip
     - Phase 3: Complete with success summary + CTA glow
     ================================================================ */

  /* -- Phase 0: Welcome -- */
  .welcome-section {
    padding: 8px 0;
  }

  .welcome-text {
    font-size: 14px;
    color: var(--nl-text-secondary);
    line-height: 1.6;
    margin-bottom: 20px;
  }

  .checklist-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    border-radius: 10px;
    background: var(--nl-surface-secondary);
    border: 1px solid var(--nl-border-subtle);
    margin-bottom: 8px;
  }
  .checklist-item:last-child { margin-bottom: 0; }

  .checklist-number {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: var(--nl-accent-bg);
    border: 1px solid var(--nl-accent);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--nl-accent);
    flex-shrink: 0;
  }

  .checklist-label {
    font-size: 0.8125rem;
    font-weight: 500;
    color: var(--nl-text-primary);
  }

  .checklist-desc {
    font-size: 0.75rem;
    color: var(--nl-text-tertiary);
    margin-top: 2px;
  }

  /* -- Phase 1: Upload -- */
  .upload-section {
    padding: 8px 0;
  }

  .upload-hint {
    font-size: 13px;
    color: var(--nl-text-secondary);
    margin-bottom: 16px;
    line-height: 1.5;
  }

  .file-preview {
    margin-top: 16px;
  }

  .file-preview-label {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--nl-text-tertiary);
    margin-bottom: 8px;
  }

  .file-preview-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 8px;
    background: var(--nl-success-bg);
    border: 1px solid rgba(22, 163, 74, 0.15);
    margin-bottom: 6px;
  }
  .file-preview-item:last-child { margin-bottom: 0; }

  .file-preview-icon {
    width: 28px;
    height: 28px;
    border-radius: 6px;
    background: var(--nl-surface-card);
    border: 1px solid var(--nl-border-subtle);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--nl-success);
    flex-shrink: 0;
  }

  .file-preview-name {
    font-size: 0.8125rem;
    font-weight: 500;
    color: var(--nl-text-primary);
    flex: 1;
  }

  .file-preview-size {
    font-size: 0.75rem;
    color: var(--nl-text-tertiary);
  }

  /* -- Phase 2: Organize -- */
  .organize-section {
    padding: 8px 0;
  }

  .organize-hint {
    font-size: 13px;
    color: var(--nl-text-secondary);
    margin-bottom: 16px;
    line-height: 1.5;
  }

  .folder-group {
    margin-bottom: 16px;
  }
  .folder-group:last-child { margin-bottom: 0; }

  .folder-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
  }

  .folder-icon {
    color: var(--nl-accent);
  }

  .folder-name {
    font-size: 0.8125rem;
    font-weight: 600;
    color: var(--nl-text-primary);
  }

  .folder-count {
    font-size: 0.6875rem;
    color: var(--nl-text-quaternary);
    margin-left: auto;
  }

  .folder-files {
    padding-left: 4px;
  }

  .folder-file {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    border-radius: 8px;
    background: var(--nl-surface-secondary);
    border: 1px solid var(--nl-border-subtle);
    margin-bottom: 4px;
  }
  .folder-file:last-child { margin-bottom: 0; }

  .folder-file-icon {
    width: 24px;
    height: 24px;
    border-radius: 6px;
    background: var(--nl-surface-card);
    border: 1px solid var(--nl-border-subtle);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--nl-text-quaternary);
    flex-shrink: 0;
  }

  .folder-file-name {
    font-size: 0.75rem;
    color: var(--nl-text-secondary);
    flex: 1;
  }

  /* -- Phase 3: Complete -- */
  .complete-section {
    padding: 8px 0;
    text-align: center;
  }

  .complete-icon {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: var(--nl-success-bg);
    border: 2px solid var(--nl-success);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 16px;
    color: var(--nl-success);
  }

  .complete-heading {
    font-size: 18px;
    font-weight: 700;
    color: var(--nl-text-primary);
    margin-bottom: 4px;
  }

  .complete-sub {
    font-size: 13px;
    color: var(--nl-text-secondary);
    margin-bottom: 24px;
  }

  .summary-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 10px;
    text-align: center;
    margin-bottom: 8px;
  }

  .summary-stat {
    padding: 14px 8px;
    background: var(--nl-surface-secondary);
    border-radius: 10px;
    border: 1px solid var(--nl-border-subtle);
  }

  .summary-stat .stat-value {
    font-size: 20px;
    font-weight: 700;
    color: var(--nl-text-primary);
    font-variant-numeric: tabular-nums;
  }

  .summary-stat .stat-label {
    font-size: 0.6875rem;
    color: var(--nl-text-tertiary);
    margin-top: 4px;
  }

  /* Phosphor icon helpers */
  svg.ph {
    display: inline-block;
    vertical-align: middle;
  }
</style>
</head>
<body>

<div id="scene" class="scene">
  <div class="card-wrapper">
    <div id="card" class="card">

      <!-- Header -->
      <div id="card-header" class="card-header">
        <div id="title-block" class="title-fade">
          <h2 id="phase-title" class="phase-title">Set Up Your Data Room</h2>
          <div id="phase-subtitle" class="phase-subtitle">Get started in 4 easy steps.</div>
        </div>
      </div>

      <!-- Step Indicators -->
      <div style="padding: 0 28px;">
        <div class="step-indicator">
          <div class="step-indicator-node">
            <div class="step-indicator-dot active">1</div>
            <div class="step-indicator-label active">Welcome</div>
          </div>
          <div class="step-indicator-connector">
            <div class="step-indicator-connector-fill"></div>
          </div>
          <div class="step-indicator-node">
            <div class="step-indicator-dot">2</div>
            <div class="step-indicator-label">Upload</div>
          </div>
          <div class="step-indicator-connector">
            <div class="step-indicator-connector-fill"></div>
          </div>
          <div class="step-indicator-node">
            <div class="step-indicator-dot">3</div>
            <div class="step-indicator-label">Organize</div>
          </div>
          <div class="step-indicator-connector">
            <div class="step-indicator-connector-fill"></div>
          </div>
          <div class="step-indicator-node">
            <div class="step-indicator-dot">4</div>
            <div class="step-indicator-label">Done</div>
          </div>
        </div>
      </div>

      <!-- Phase container -->
      <div id="phase-container" class="phase-container">

        <!-- Phase 0: Welcome — overview of setup steps -->
        <div id="phase-0" class="phase-layer active">
          <div class="welcome-section">
            <p class="welcome-text">Your data room is where investors, lawyers, and partners access your company's documents securely. Let's set it up.</p>
            <div class="checklist-item slide-enter" data-slide-group="welcome">
              <div class="checklist-number">1</div>
              <div>
                <div class="checklist-label">Upload documents</div>
                <div class="checklist-desc">Drag and drop files or browse your computer</div>
              </div>
            </div>
            <div class="checklist-item slide-enter" data-slide-group="welcome">
              <div class="checklist-number">2</div>
              <div>
                <div class="checklist-label">Organize into folders</div>
                <div class="checklist-desc">Group documents by category for easy access</div>
              </div>
            </div>
            <div class="checklist-item slide-enter" data-slide-group="welcome">
              <div class="checklist-number">3</div>
              <div>
                <div class="checklist-label">Review and share</div>
                <div class="checklist-desc">Preview your data room and invite collaborators</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Phase 1: Upload — spotlight on drop zone + cursor click -->
        <div id="phase-1" class="phase-layer">
          <div class="upload-section">
            <p class="upload-hint">Drag files into the upload area, or click to browse.</p>
            <div id="upload-zone" class="action-area">
              <div class="action-icon-container">
                <svg class="ph" width="24" height="24" viewBox="0 0 256 256"><path d="M224,152v56a8,8,0,0,1-8,8H40a8,8,0,0,1-8-8V152" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/><polyline points="88 80 128 40 168 80" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/><line x1="128" y1="40" x2="128" y2="152" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </div>
              <div class="action-title">Upload Documents</div>
              <div class="action-sub">PDF, DOCX, XLSX up to 50 MB each</div>
            </div>
            <div class="file-preview">
              <div class="file-preview-label">Uploaded</div>
              <div class="file-preview-item slide-enter" data-slide-group="uploads">
                <div class="file-preview-icon">
                  <svg class="ph" width="14" height="14" viewBox="0 0 256 256"><polyline points="40 144 96 200 224 72" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="file-preview-name">Series-A-Term-Sheet.pdf</div>
                <div class="file-preview-size">2.4 MB</div>
              </div>
              <div class="file-preview-item slide-enter" data-slide-group="uploads">
                <div class="file-preview-icon">
                  <svg class="ph" width="14" height="14" viewBox="0 0 256 256"><polyline points="40 144 96 200 224 72" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="file-preview-name">Cap-Table-Q4-2025.xlsx</div>
                <div class="file-preview-size">1.1 MB</div>
              </div>
              <div class="file-preview-item slide-enter" data-slide-group="uploads">
                <div class="file-preview-icon">
                  <svg class="ph" width="14" height="14" viewBox="0 0 256 256"><polyline points="40 144 96 200 224 72" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="file-preview-name">Board-Minutes-Feb-2026.pdf</div>
                <div class="file-preview-size">890 KB</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Phase 2: Organize — files sorted into folders -->
        <div id="phase-2" class="phase-layer">
          <div class="organize-section">
            <p class="organize-hint">Documents are auto-sorted into folders. You can drag to rearrange.</p>
            <div class="folder-group slide-enter" data-slide-group="folders" id="folder-legal">
              <div class="folder-header">
                <svg class="ph folder-icon" width="16" height="16" viewBox="0 0 256 256"><path d="M216,72H131.31L104,44.69A15.86,15.86,0,0,0,92.69,40H40A16,16,0,0,0,24,56V200.62A15.4,15.4,0,0,0,39.38,216H216.89A15.13,15.13,0,0,0,232,200.89V88A16,16,0,0,0,216,72Z" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span class="folder-name">Legal</span>
                <span class="folder-count">1 file</span>
              </div>
              <div class="folder-files">
                <div class="folder-file">
                  <div class="folder-file-icon">
                    <svg class="ph" width="12" height="12" viewBox="0 0 256 256"><path d="M200,224H56a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h96l56,56V216A8,8,0,0,1,200,224Z" fill="none" stroke="currentColor" stroke-width="16" stroke-linejoin="round"/><polyline points="152 32 152 88 208 88" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
                  </div>
                  <span class="folder-file-name">Series-A-Term-Sheet.pdf</span>
                </div>
              </div>
            </div>
            <div class="folder-group slide-enter" data-slide-group="folders" id="folder-financials">
              <div class="folder-header">
                <svg class="ph folder-icon" width="16" height="16" viewBox="0 0 256 256"><path d="M216,72H131.31L104,44.69A15.86,15.86,0,0,0,92.69,40H40A16,16,0,0,0,24,56V200.62A15.4,15.4,0,0,0,39.38,216H216.89A15.13,15.13,0,0,0,232,200.89V88A16,16,0,0,0,216,72Z" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span class="folder-name">Financials</span>
                <span class="folder-count">1 file</span>
              </div>
              <div class="folder-files">
                <div class="folder-file">
                  <div class="folder-file-icon">
                    <svg class="ph" width="12" height="12" viewBox="0 0 256 256"><rect x="32" y="48" width="192" height="160" rx="8" fill="none" stroke="currentColor" stroke-width="16"/><line x1="32" y1="96" x2="224" y2="96" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round"/></svg>
                  </div>
                  <span class="folder-file-name">Cap-Table-Q4-2025.xlsx</span>
                </div>
              </div>
            </div>
            <div class="folder-group slide-enter" data-slide-group="folders" id="folder-governance">
              <div class="folder-header">
                <svg class="ph folder-icon" width="16" height="16" viewBox="0 0 256 256"><path d="M216,72H131.31L104,44.69A15.86,15.86,0,0,0,92.69,40H40A16,16,0,0,0,24,56V200.62A15.4,15.4,0,0,0,39.38,216H216.89A15.13,15.13,0,0,0,232,200.89V88A16,16,0,0,0,216,72Z" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span class="folder-name">Governance</span>
                <span class="folder-count">1 file</span>
              </div>
              <div class="folder-files">
                <div class="folder-file">
                  <div class="folder-file-icon">
                    <svg class="ph" width="12" height="12" viewBox="0 0 256 256"><path d="M200,224H56a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h96l56,56V216A8,8,0,0,1,200,224Z" fill="none" stroke="currentColor" stroke-width="16" stroke-linejoin="round"/><polyline points="152 32 152 88 208 88" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
                  </div>
                  <span class="folder-file-name">Board-Minutes-Feb-2026.pdf</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Phase 3: Complete — success summary -->
        <div id="phase-3" class="phase-layer">
          <div class="complete-section">
            <div class="complete-icon">
              <svg class="ph" width="28" height="28" viewBox="0 0 256 256"><polyline points="40 144 96 200 224 72" fill="none" stroke="currentColor" stroke-width="24" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="complete-heading">Data Room Ready</div>
            <div class="complete-sub">Your documents are uploaded and organized.</div>
            <div class="summary-grid">
              <div class="summary-stat slide-enter" data-slide-group="stats">
                <div class="stat-value">3</div>
                <div class="stat-label">Documents</div>
              </div>
              <div class="summary-stat slide-enter" data-slide-group="stats">
                <div class="stat-value">3</div>
                <div class="stat-label">Folders</div>
              </div>
              <div class="summary-stat slide-enter" data-slide-group="stats">
                <div class="stat-value">4.4</div>
                <div class="stat-label">MB Total</div>
              </div>
            </div>
          </div>
        </div>

      </div><!-- /phase-container -->

      <!-- Spotlight overlay -->
      <div id="spotlight-overlay" class="spotlight-overlay">
        <div class="spotlight-cutout"></div>
      </div>

      <!-- Tutorial cursor -->
      <svg id="tutorial-cursor" class="tutorial-cursor" viewBox="0 0 24 24" fill="none">
        <path d="M5 3l14 10-6.5 1.5L9 21z" fill="#1c1917" stroke="white" stroke-width="1.5" stroke-linejoin="round"/>
      </svg>

      <!-- Tooltip -->
      <div class="tutorial-tooltip">
        <div class="tutorial-tooltip-arrow"></div>
        <div class="tutorial-tooltip-text"></div>
      </div>

      <!-- Footer layers -->
      <div class="card-footer">
        <div id="footer-0" class="footer-layer active">
          <span style="font-size: 12px; color: var(--nl-text-tertiary);">Step 1 of 4</span>
          <span style="flex:1"></span>
          <span style="font-size: 12px; color: var(--nl-text-tertiary);">Data Room Setup</span>
        </div>
        <div id="footer-1" class="footer-layer">
          <span style="font-size: 12px; color: var(--nl-text-tertiary);">Step 2 of 4</span>
          <span style="flex:1"></span>
          <button class="btn btn-secondary" style="font-size: 12px; padding: 6px 14px;">Skip</button>
        </div>
        <div id="footer-2" class="footer-layer">
          <span style="font-size: 12px; color: var(--nl-text-tertiary);">Step 3 of 4</span>
          <span style="flex:1"></span>
          <button class="btn btn-secondary" style="font-size: 12px; padding: 6px 14px;">Edit folders</button>
        </div>
        <div id="footer-3" class="footer-layer">
          <span style="font-size: 12px; color: var(--nl-text-tertiary);">Setup complete</span>
          <span style="flex:1"></span>
          <button id="share-btn" class="btn btn-primary" style="font-size: 12px; padding: 8px 18px;">
            Share Data Room
            <svg class="ph" width="14" height="14" viewBox="0 0 256 256"><line x1="40" y1="128" x2="216" y2="128" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/><polyline points="184 96 216 128 184 160" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      </div>

    </div><!-- /card -->
  </div><!-- /card-wrapper -->
</div><!-- /scene -->

<!-- Playback controls -->
<div id="playback" class="playback-bar">
  <button id="play-btn" class="play-btn" onclick="togglePlay()">
    <svg id="icon-pause" width="14" height="14" viewBox="0 0 256 256"><rect x="156" y="48" width="36" height="160" rx="4" fill="currentColor"/><rect x="64" y="48" width="36" height="160" rx="4" fill="currentColor"/></svg>
    <svg id="icon-play" width="14" height="14" viewBox="0 0 256 256" style="display:none;"><path d="M72,39.9V216.1a8,8,0,0,0,12.15,6.69l144.08-88.1a7.82,7.82,0,0,0,0-13.38L84.15,33.21A8,8,0,0,0,72,39.9Z" fill="currentColor"/></svg>
  </button>
  <button onclick="restart()">
    <svg width="14" height="14" viewBox="0 0 256 256"><path d="M168,224a96,96,0,1,1,56-56" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round"/><polyline points="224 168 168 168 168 224" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
  </button>
  <div id="phase-dots" class="phase-dots" style="display:flex;gap:6px;align-items:center;">
    <span class="phase-dot active" data-phase="0" onclick="jumpTo(0)"></span>
    <span class="phase-dot" data-phase="1" onclick="jumpTo(1)"></span>
    <span class="phase-dot" data-phase="2" onclick="jumpTo(2)"></span>
    <span class="phase-dot" data-phase="3" onclick="jumpTo(3)"></span>
  </div>
  <span id="phase-label" class="phase-label-text">Welcome</span>
</div>

<script src="engine.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const engine = new NeutralLightEngine({
      phases: [
        { id: 0, label: 'Welcome',  dwell: 3000 },
        { id: 1, label: 'Upload',   dwell: 3500 },
        { id: 2, label: 'Organize', dwell: 3500 },
        { id: 3, label: 'Complete', dwell: 3000 },
      ],
      titles: [
        'Set Up Your Data Room',
        'Upload Documents',
        'Organize Files',
        'You\u2019re All Set',
      ],
      subtitles: [
        'Get started in 4 easy steps.',
        'Add your key documents.',
        'Files sorted into folders automatically.',
        'Your data room is ready to share.',
      ],
      onPhaseEnter: {
        0: (eng) => {
          eng.runSlideStagger('welcome', 150);
        },
        1: (eng) => {
          // Spotlight the upload zone, then cursor click, then reveal uploads
          eng.runSpotlight('#upload-zone', 2200);
          eng.runCursorTo(280, 120, { click: true, delay: 400 });
          eng.pushTimer(() => {
            // Highlight the drop zone after cursor click
            const zone = document.getElementById('upload-zone');
            if (zone) zone.classList.add('highlighted');
          }, 1200);
          eng.pushTimer(() => {
            eng.runSlideStagger('uploads', 120);
          }, 1600);
          // Mark step 0 as done
          eng.runStepProgress(0);
        },
        2: (eng) => {
          eng.runSlideStagger('folders', 200);
          // Tooltip on first folder after stagger completes
          eng.pushTimer(() => {
            eng.runTooltip('#folder-legal', 'AI detected this as a legal document', 'below', 2000);
          }, 700);
          // Mark step 1 as done
          eng.runStepProgress(1);
        },
        3: (eng) => {
          eng.runSlideStagger('stats', 120);
          // Mark step 2 as done, then step 3
          eng.runStepProgress(2);
          eng.pushTimer(() => eng.runStepProgress(3), 400);
          // CTA glow on share button
          eng.pushTimer(() => {
            const btn = document.getElementById('share-btn');
            if (btn) btn.classList.add('cta-glow');
          }, 800);
        },
      },
    });

    engine.exposeGlobals();
    engine.boot();
  });
</script>

</body>
</html>
