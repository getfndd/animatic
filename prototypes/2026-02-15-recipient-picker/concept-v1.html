<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recipient Picker Redesign</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://api.fontshare.com/v2/css?f[]=satoshi@400,500,700&display=swap" rel="stylesheet">
  <style>
    :root {
      --surface-primary: 0 0% 100%;
      --surface-secondary: 0 0% 98%;
      --surface-tertiary: 0 0% 96%;
      --surface-inverse: 0 0% 9%;
      --text-primary: 0 0% 9%;
      --text-secondary: 0 0% 45%;
      --text-tertiary: 0 0% 64%;
      --text-inverse: 0 0% 98%;
      --border-default: 0 0% 90%;
      --border-subtle: 0 0% 94%;
      --border-strong: 0 0% 80%;
      --status-success: 142 71% 45%;
      --status-success-bg: 142 76% 94%;
      --status-error: 0 84% 60%;
      --status-error-bg: 0 86% 97%;
      --status-warning: 38 92% 50%;
      --status-warning-bg: 48 96% 95%;
      --radius: 0.5rem;
    }

    * { border-color: hsl(var(--border-default)); }
    body {
      font-family: 'Satoshi', system-ui, -apple-system, sans-serif;
      background-color: hsl(0 0% 50% / 0.3);
      color: hsl(var(--text-primary));
      -webkit-font-smoothing: antialiased;
    }

    /* Flat row hover pattern */
    .flat-row {
      border-radius: calc(var(--radius) - 4px);
      transition: background-color 140ms ease-out;
    }
    .flat-row:hover { background-color: hsl(var(--surface-secondary)); }
    .flat-row:focus-visible {
      outline: none;
      box-shadow: 0 0 0 1px hsl(0 0% 9% / 0.5);
      box-shadow: 0 0 0 1px hsl(0 0% 9% / 0.5), 0 0 0 2px hsl(var(--surface-primary));
    }

    /* Group header toggle */
    .group-toggle { transition: background-color 140ms ease-out; border-radius: calc(var(--radius) - 4px); }
    .group-toggle:hover { background-color: hsl(var(--surface-secondary)); }

    /* Checkbox styling */
    .checkbox {
      width: 18px; height: 18px; border-radius: calc(var(--radius) - 4px);
      border: 1.5px solid hsl(var(--border-strong));
      display: flex; align-items: center; justify-content: center;
      transition: all 140ms ease-out; flex-shrink: 0;
    }
    .checkbox.checked {
      background-color: hsl(var(--surface-inverse));
      border-color: hsl(var(--surface-inverse));
    }
    .checkbox.indeterminate {
      background-color: hsl(var(--surface-inverse));
      border-color: hsl(var(--surface-inverse));
    }
    .checkbox.disabled {
      opacity: 0.4; border-color: hsl(var(--border-default));
    }

    /* Avatar colors */
    .avatar-blue { background-color: #DBEAFE; color: #1E40AF; }
    .avatar-emerald { background-color: #D1FAE5; color: #065F46; }
    .avatar-amber { background-color: #FEF3C7; color: #92400E; }
    .avatar-violet { background-color: #EDE9FE; color: #5B21B6; }
    .avatar-rose { background-color: #FFE4E6; color: #9F1239; }
    .avatar-cyan { background-color: #CFFAFE; color: #155E75; }
    .avatar-orange { background-color: #FFEDD5; color: #9A3412; }
    .avatar-teal { background-color: #CCFBF1; color: #134E4A; }

    /* Slide-out animation */
    @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
    .slideout { animation: slideIn 0.25s ease-out; }

    /* Selected chip */
    .chip {
      display: inline-flex; align-items: center; gap: 4px;
      padding: 2px 8px 2px 2px;
      border-radius: 999px;
      background: hsl(var(--surface-secondary));
      border: 1px solid hsl(var(--border-subtle));
      font-size: 13px; color: hsl(var(--text-primary));
      transition: border-color 140ms;
    }
    .chip:hover { border-color: hsl(var(--border-strong)); }
    .chip .chip-avatar {
      width: 22px; height: 22px; border-radius: 999px;
      display: flex; align-items: center; justify-content: center;
      font-size: 10px; font-weight: 700;
    }
    .chip .chip-remove {
      width: 16px; height: 16px; border-radius: 999px;
      display: flex; align-items: center; justify-content: center;
      color: hsl(var(--text-tertiary));
      cursor: pointer; transition: all 140ms;
    }
    .chip .chip-remove:hover { background: hsl(var(--surface-tertiary)); color: hsl(var(--text-primary)); }
  </style>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'surface-primary': 'hsl(var(--surface-primary))',
            'surface-secondary': 'hsl(var(--surface-secondary))',
            'surface-tertiary': 'hsl(var(--surface-tertiary))',
            'surface-inverse': 'hsl(var(--surface-inverse))',
            'text-primary': 'hsl(var(--text-primary))',
            'text-secondary': 'hsl(var(--text-secondary))',
            'text-tertiary': 'hsl(var(--text-tertiary))',
            'text-inverse': 'hsl(var(--text-inverse))',
            'border-default': 'hsl(var(--border-default))',
            'border-subtle': 'hsl(var(--border-subtle))',
            'border-strong': 'hsl(var(--border-strong))',
            'status-success': 'hsl(var(--status-success))',
            'status-success-bg': 'hsl(var(--status-success-bg))',
          },
          borderRadius: { lg: 'var(--radius)', md: 'calc(var(--radius) - 2px)', sm: 'calc(var(--radius) - 4px)' },
        },
      },
    }
  </script>
</head>
<body class="min-h-screen flex items-start justify-end">

  <!-- Slideout Panel -->
  <div class="slideout w-[440px] min-h-screen bg-surface-primary border-l border-border-default shadow-xl flex flex-col">

    <!-- Header -->
    <div class="flex items-center justify-between px-6 py-4 border-b">
      <div>
        <h2 class="text-base font-semibold text-text-primary">Select Recipients</h2>
        <p class="text-xs text-text-tertiary mt-0.5">Choose who receives this update</p>
      </div>
      <button class="w-8 h-8 flex items-center justify-center rounded-md hover:bg-surface-secondary transition-colors">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M12 4L4 12M4 4l8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      </button>
    </div>

    <!-- Search -->
    <div class="px-4 py-3 border-b">
      <div class="relative">
        <svg class="absolute left-3 top-1/2 -translate-y-1/2 text-text-tertiary" width="16" height="16" viewBox="0 0 256 256"><path d="M229.66,218.34l-50.07-50.07a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.31ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z" fill="currentColor"/></svg>
        <input
          type="text"
          placeholder="Search investors..."
          class="w-full pl-9 pr-3 py-2 text-sm rounded-md border bg-surface-primary text-text-primary placeholder:text-text-tertiary focus:outline-none focus:ring-1 focus:ring-zinc-900/50 focus:ring-offset-1"
        />
      </div>
    </div>

    <!-- Selected chips (when recipients selected) -->
    <div class="px-4 py-3 border-b">
      <div class="flex flex-wrap gap-1.5">
        <div class="chip">
          <div class="chip-avatar avatar-blue">MA</div>
          <span>Marc Andreessen</span>
          <span class="chip-remove">&times;</span>
        </div>
        <div class="chip">
          <div class="chip-avatar avatar-emerald">RB</div>
          <span>Roelof Botha</span>
          <span class="chip-remove">&times;</span>
        </div>
        <div class="chip">
          <div class="chip-avatar avatar-violet">JS</div>
          <span>James Schuyler</span>
          <span class="chip-remove">&times;</span>
        </div>
        <div class="chip">
          <div class="chip-avatar avatar-amber">PG</div>
          <span>Paul Graham</span>
          <span class="chip-remove">&times;</span>
        </div>
      </div>
    </div>

    <!-- Scrollable Contact List -->
    <div class="flex-1 overflow-y-auto">

      <!-- Group: Angels (3) -->
      <div class="px-2 pt-3 pb-1">
        <!-- Group header -->
        <button class="group-toggle w-full flex items-center justify-between px-2 py-1.5">
          <div class="flex items-center gap-2">
            <svg width="12" height="12" viewBox="0 0 12 12" class="text-text-tertiary"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
            <span class="text-xs font-medium text-text-tertiary">Angels</span>
            <span class="text-xs text-text-tertiary">(3)</span>
          </div>
          <!-- Group checkbox: all selected = checked -->
          <div class="flex items-center gap-2">
            <span class="text-[11px] text-text-tertiary">3 of 3</span>
            <div class="checkbox checked">
              <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5L4 7L8 3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
          </div>
        </button>

        <!-- Contact rows -->
        <div class="mt-1 space-y-px">
          <!-- Selected contact -->
          <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left" style="background-color: hsl(var(--surface-secondary));">
            <div class="checkbox checked">
              <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5L4 7L8 3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold avatar-blue">MA</div>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-text-primary truncate">Marc Andreessen</p>
              <p class="text-xs text-text-tertiary truncate">marc@a16z.com</p>
            </div>
            <span class="inline-flex items-center rounded-full bg-surface-tertiary px-2 py-0.5 text-[11px] font-medium text-text-secondary">Angel</span>
          </button>

          <!-- Selected contact -->
          <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left" style="background-color: hsl(var(--surface-secondary));">
            <div class="checkbox checked">
              <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5L4 7L8 3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold avatar-emerald">RB</div>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-text-primary truncate">Roelof Botha</p>
              <p class="text-xs text-text-tertiary truncate">roelof@sequoia.com</p>
            </div>
            <span class="inline-flex items-center rounded-full bg-surface-tertiary px-2 py-0.5 text-[11px] font-medium text-text-secondary">Angel</span>
          </button>

          <!-- Selected contact -->
          <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left" style="background-color: hsl(var(--surface-secondary));">
            <div class="checkbox checked">
              <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5L4 7L8 3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold avatar-violet">JS</div>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-text-primary truncate">James Schuyler</p>
              <p class="text-xs text-text-tertiary truncate">james@schuyler.org</p>
            </div>
            <span class="inline-flex items-center rounded-full bg-surface-tertiary px-2 py-0.5 text-[11px] font-medium text-text-secondary">Angel</span>
          </button>
        </div>
      </div>

      <!-- Group: Lead Investors (2) -->
      <div class="px-2 pt-1 pb-1">
        <button class="group-toggle w-full flex items-center justify-between px-2 py-1.5">
          <div class="flex items-center gap-2">
            <svg width="12" height="12" viewBox="0 0 12 12" class="text-text-tertiary"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
            <span class="text-xs font-medium text-text-tertiary">Lead Investors</span>
            <span class="text-xs text-text-tertiary">(2)</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-[11px] text-text-tertiary">1 of 2</span>
            <!-- Indeterminate state -->
            <div class="checkbox indeterminate">
              <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2.5 5H7.5" stroke="white" stroke-width="1.5" stroke-linecap="round"/></svg>
            </div>
          </div>
        </button>

        <div class="mt-1 space-y-px">
          <!-- Selected -->
          <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left" style="background-color: hsl(var(--surface-secondary));">
            <div class="checkbox checked">
              <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5L4 7L8 3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold avatar-amber">PG</div>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-text-primary truncate">Paul Graham</p>
              <p class="text-xs text-text-tertiary truncate">pg@ycombinator.com</p>
            </div>
            <span class="inline-flex items-center rounded-full bg-surface-tertiary px-2 py-0.5 text-[11px] font-medium text-text-secondary">Lead</span>
          </button>

          <!-- Not selected -->
          <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left">
            <div class="checkbox"></div>
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold avatar-rose">SN</div>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-text-primary truncate">Sam Altman</p>
              <p class="text-xs text-text-tertiary truncate">sam@openai.com</p>
            </div>
            <span class="inline-flex items-center rounded-full bg-surface-tertiary px-2 py-0.5 text-[11px] font-medium text-text-secondary">Lead</span>
          </button>
        </div>
      </div>

      <!-- Group: VCs (3) -->
      <div class="px-2 pt-1 pb-1">
        <button class="group-toggle w-full flex items-center justify-between px-2 py-1.5">
          <div class="flex items-center gap-2">
            <svg width="12" height="12" viewBox="0 0 12 12" class="text-text-tertiary"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
            <span class="text-xs font-medium text-text-tertiary">Venture Capital</span>
            <span class="text-xs text-text-tertiary">(3)</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-[11px] text-text-tertiary">0 of 3</span>
            <div class="checkbox"></div>
          </div>
        </button>

        <div class="mt-1 space-y-px">
          <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left">
            <div class="checkbox"></div>
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold avatar-cyan">BH</div>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-text-primary truncate">Ben Horowitz</p>
              <p class="text-xs text-text-tertiary truncate">ben@a16z.com</p>
            </div>
            <span class="inline-flex items-center rounded-full bg-surface-tertiary px-2 py-0.5 text-[11px] font-medium text-text-secondary">VC</span>
          </button>

          <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left">
            <div class="checkbox"></div>
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold avatar-orange">MZ</div>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-text-primary truncate">Mike Zapata</p>
              <p class="text-xs text-text-tertiary truncate">mike@lightspeed.vc</p>
            </div>
            <span class="inline-flex items-center rounded-full bg-surface-tertiary px-2 py-0.5 text-[11px] font-medium text-text-secondary">VC</span>
          </button>

          <!-- Already sent -->
          <div class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left opacity-50 cursor-not-allowed">
            <div class="checkbox disabled">
              <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5L4 7L8 3" stroke="hsl(var(--text-tertiary))" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold avatar-teal">VK</div>
            <div class="flex-1 min-w-0">
              <div class="flex items-center gap-2">
                <p class="text-sm font-medium text-text-primary truncate">Vinod Khosla</p>
                <span class="inline-flex items-center gap-1 rounded-full bg-status-success-bg px-1.5 py-0.5 text-[10px] font-medium text-status-success">
                  <svg width="10" height="10" viewBox="0 0 256 256" fill="currentColor"><path d="M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"/></svg>
                  Sent
                </span>
              </div>
              <p class="text-xs text-text-tertiary truncate">vinod@khoslaventures.com</p>
            </div>
            <span class="inline-flex items-center rounded-full bg-surface-tertiary px-2 py-0.5 text-[11px] font-medium text-text-secondary">VC</span>
          </div>
        </div>
      </div>

      <!-- Group: Advisors (1) -->
      <div class="px-2 pt-1 pb-1">
        <button class="group-toggle w-full flex items-center justify-between px-2 py-1.5">
          <div class="flex items-center gap-2">
            <svg width="12" height="12" viewBox="0 0 12 12" class="text-text-tertiary"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
            <span class="text-xs font-medium text-text-tertiary">Advisors</span>
            <span class="text-xs text-text-tertiary">(1)</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-[11px] text-text-tertiary">0 of 1</span>
            <div class="checkbox"></div>
          </div>
        </button>

        <div class="mt-1 space-y-px">
          <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left">
            <div class="checkbox"></div>
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold avatar-teal">RE</div>
            <div class="flex-1 min-w-0">
              <p class="text-sm font-medium text-text-primary truncate">Reid Hoffman</p>
              <p class="text-xs text-text-tertiary truncate">reid@greylock.com</p>
            </div>
            <span class="inline-flex items-center rounded-full bg-surface-tertiary px-2 py-0.5 text-[11px] font-medium text-text-secondary">Advisor</span>
          </button>
        </div>
      </div>

      <!-- Add external recipient -->
      <div class="px-4 pt-2 pb-4">
        <button class="w-full flex items-center gap-2 rounded-md border border-dashed px-3 py-2.5 text-sm text-text-secondary hover:border-border-strong hover:bg-surface-secondary transition-colors">
          <svg width="16" height="16" viewBox="0 0 256 256" fill="currentColor"><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/></svg>
          Add external recipient
        </button>
      </div>
    </div>

    <!-- Footer: Selection summary + action -->
    <div class="border-t px-4 py-3">
      <div class="flex items-center justify-between mb-3">
        <div class="flex items-center gap-2">
          <span class="text-sm font-medium text-text-primary">4 selected</span>
          <span class="text-xs text-text-tertiary">of 9 contacts</span>
        </div>
        <button class="text-xs font-medium text-text-secondary hover:text-text-primary transition-colors">
          Clear all
        </button>
      </div>
      <div class="flex gap-2">
        <button class="flex-1 py-2 px-4 rounded-full border text-sm font-medium text-text-secondary hover:bg-surface-secondary transition-colors">
          Cancel
        </button>
        <button class="flex-1 py-2 px-4 rounded-full bg-surface-inverse text-text-inverse text-sm font-medium hover:opacity-90 transition-opacity">
          Continue
        </button>
      </div>
    </div>
  </div>

</body>
</html>