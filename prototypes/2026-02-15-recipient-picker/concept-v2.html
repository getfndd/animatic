<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Option A: Audience-First Recipient Picker</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://api.fontshare.com/v2/css?f[]=satoshi@400,500,700&display=swap" rel="stylesheet">
  <style>
    :root {
      --surface-primary: 0 0% 100%;
      --surface-secondary: 0 0% 98%;
      --surface-tertiary: 0 0% 96%;
      --surface-inverse: 0 0% 9%;
      --text-primary: 0 0% 9%;
      --text-secondary: 0 0% 45%;
      --text-tertiary: 0 0% 64%;
      --text-inverse: 0 0% 98%;
      --border-default: 0 0% 90%;
      --border-subtle: 0 0% 94%;
      --border-strong: 0 0% 80%;
      --status-success: 142 71% 45%;
      --status-success-bg: 142 76% 94%;
      --status-error: 0 84% 60%;
      --status-error-bg: 0 86% 97%;
      --status-warning: 38 92% 50%;
      --status-warning-bg: 48 96% 95%;
      --radius: 0.5rem;
    }
    * { border-color: hsl(var(--border-default)); }
    body {
      font-family: 'Satoshi', system-ui, -apple-system, sans-serif;
      background-color: hsl(0 0% 50% / 0.3);
      color: hsl(var(--text-primary));
      -webkit-font-smoothing: antialiased;
    }
    @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
    .slideout { animation: slideIn 0.25s ease-out; }
    .flat-row { border-radius: 4px; transition: background-color 140ms ease-out; }
    .flat-row:hover { background-color: hsl(var(--surface-secondary)); }

    /* Avatar colors */
    .av-blue { background: #DBEAFE; color: #1E40AF; }
    .av-emerald { background: #D1FAE5; color: #065F46; }
    .av-amber { background: #FEF3C7; color: #92400E; }
    .av-violet { background: #EDE9FE; color: #5B21B6; }
    .av-rose { background: #FFE4E6; color: #9F1239; }
    .av-cyan { background: #CFFAFE; color: #155E75; }

    /* Mode toggle */
    .mode-option {
      padding: 16px; border-radius: 8px; border: 1.5px solid hsl(var(--border-default));
      cursor: pointer; transition: all 140ms; text-align: left; width: 100%;
    }
    .mode-option:hover { border-color: hsl(var(--border-strong)); }
    .mode-option.selected { border-color: hsl(var(--surface-inverse)); background: hsl(var(--surface-secondary)); }

    /* Radio dot */
    .radio { width: 18px; height: 18px; border-radius: 999px; border: 1.5px solid hsl(var(--border-strong)); flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
    .radio.selected { border-color: hsl(var(--surface-inverse)); }
    .radio.selected::after { content: ''; width: 10px; height: 10px; border-radius: 999px; background: hsl(var(--surface-inverse)); }

    .nda-warning {
      display: flex; align-items: flex-start; gap: 8px; padding: 10px 12px;
      background: hsl(var(--status-warning-bg)); border-radius: 6px; font-size: 13px;
      color: hsl(var(--text-secondary)); line-height: 1.4;
    }
    .nda-warning svg { color: hsl(var(--status-warning)); flex-shrink: 0; margin-top: 1px; }

    /* Chip */
    .chip { display: inline-flex; align-items: center; gap: 4px; padding: 2px 8px 2px 2px;
      border-radius: 999px; background: hsl(var(--surface-secondary)); border: 1px solid hsl(var(--border-subtle));
      font-size: 13px; }
    .chip-av { width: 22px; height: 22px; border-radius: 999px; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700; }
    .chip-x { width: 16px; height: 16px; border-radius: 999px; display: flex; align-items: center; justify-content: center; color: hsl(var(--text-tertiary)); cursor: pointer; }
    .chip-x:hover { background: hsl(var(--surface-tertiary)); color: hsl(var(--text-primary)); }

    .checkbox { width: 18px; height: 18px; border-radius: 4px; border: 1.5px solid hsl(var(--border-strong)); display: flex; align-items: center; justify-content: center; flex-shrink: 0; transition: all 140ms; }
    .checkbox.checked { background: hsl(var(--surface-inverse)); border-color: hsl(var(--surface-inverse)); }

    .sent-badge { display: inline-flex; align-items: center; gap: 3px; border-radius: 999px; background: hsl(var(--status-success-bg)); padding: 1px 6px; font-size: 10px; font-weight: 500; color: hsl(var(--status-success)); }
  </style>
  <script>
    tailwind.config = { theme: { extend: { colors: {
      'surface-primary': 'hsl(var(--surface-primary))', 'surface-secondary': 'hsl(var(--surface-secondary))',
      'surface-tertiary': 'hsl(var(--surface-tertiary))', 'surface-inverse': 'hsl(var(--surface-inverse))',
      'text-primary': 'hsl(var(--text-primary))', 'text-secondary': 'hsl(var(--text-secondary))',
      'text-tertiary': 'hsl(var(--text-tertiary))', 'border-default': 'hsl(var(--border-default))',
      'border-subtle': 'hsl(var(--border-subtle))', 'status-warning': 'hsl(var(--status-warning))',
    }, borderRadius: { lg: 'var(--radius)', md: 'calc(var(--radius) - 2px)', sm: 'calc(var(--radius) - 4px)' } } } }
  </script>
</head>
<body class="min-h-screen flex items-start justify-end">
  <div class="slideout w-[440px] min-h-screen bg-surface-primary border-l shadow-xl flex flex-col">

    <!-- Header -->
    <div class="flex items-center justify-between px-6 py-4 border-b">
      <div>
        <h2 class="text-base font-semibold">Select Recipients</h2>
        <p class="text-xs text-text-tertiary mt-0.5">Step 1 of 3</p>
      </div>
      <button class="w-8 h-8 flex items-center justify-center rounded-md hover:bg-surface-secondary transition-colors">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M12 4L4 12M4 4l8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      </button>
    </div>

    <!-- Scrollable content -->
    <div class="flex-1 overflow-y-auto">
      <div class="p-5 space-y-5">

        <!-- Step 1: Choose audience mode -->
        <div class="space-y-3">
          <p class="text-xs font-medium text-text-tertiary">Audience</p>

          <!-- All contacts option -->
          <button class="mode-option" onclick="this.classList.toggle('selected');this.parentElement.querySelector('.mode-custom')?.classList.remove('selected')">
            <div class="flex items-start gap-3">
              <div class="radio mt-0.5"></div>
              <div class="flex-1">
                <div class="flex items-center justify-between">
                  <p class="text-sm font-medium">All contacts</p>
                  <span class="text-xs text-text-tertiary tabular-nums">9 recipients</span>
                </div>
                <p class="text-xs text-text-tertiary mt-1">Send to everyone in your investor contacts</p>
                <!-- Group summary -->
                <div class="flex flex-wrap gap-1.5 mt-3">
                  <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-surface-secondary text-xs text-text-secondary">Angels <span class="text-text-tertiary">3</span></span>
                  <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-surface-secondary text-xs text-text-secondary">Lead <span class="text-text-tertiary">2</span></span>
                  <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-surface-secondary text-xs text-text-secondary">VC <span class="text-text-tertiary">3</span></span>
                  <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-surface-secondary text-xs text-text-secondary">Advisors <span class="text-text-tertiary">1</span></span>
                </div>
              </div>
            </div>
          </button>

          <!-- Custom selection option -->
          <button class="mode-option mode-custom selected" onclick="this.classList.toggle('selected');this.parentElement.querySelector('.mode-option:first-of-type')?.classList.remove('selected')">
            <div class="flex items-start gap-3">
              <div class="radio selected mt-0.5"></div>
              <div class="flex-1">
                <div class="flex items-center justify-between">
                  <p class="text-sm font-medium">Custom selection</p>
                  <span class="text-xs text-text-tertiary tabular-nums">4 selected</span>
                </div>
                <p class="text-xs text-text-tertiary mt-1">Choose specific investors or groups</p>
              </div>
            </div>
          </button>
        </div>

        <!-- NDA Warning (when "All contacts" is selected and some lack NDA) -->
        <div class="nda-warning">
          <svg width="16" height="16" viewBox="0 0 256 256" fill="currentColor"><path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"/></svg>
          <div>
            <p class="text-xs font-medium text-text-primary">2 contacts without signed NDA</p>
            <p class="text-xs text-text-tertiary mt-0.5">Sam Altman and Ben Horowitz haven't signed an NDA. Consider whether this update contains confidential information.</p>
          </div>
        </div>

        <!-- Divider -->
        <div class="border-t"></div>

        <!-- Selected chips -->
        <div class="space-y-2">
          <div class="flex items-center justify-between">
            <p class="text-xs font-medium text-text-tertiary">Selected (4)</p>
            <button class="text-xs text-text-secondary hover:text-text-primary transition-colors">Clear all</button>
          </div>
          <div class="flex flex-wrap gap-1.5">
            <div class="chip"><div class="chip-av av-blue">MA</div> Marc Andreessen <span class="chip-x">&times;</span></div>
            <div class="chip"><div class="chip-av av-emerald">RB</div> Roelof Botha <span class="chip-x">&times;</span></div>
            <div class="chip"><div class="chip-av av-violet">JS</div> James Schuyler <span class="chip-x">&times;</span></div>
            <div class="chip"><div class="chip-av av-amber">PG</div> Paul Graham <span class="chip-x">&times;</span></div>
          </div>
        </div>

        <!-- Divider -->
        <div class="border-t"></div>

        <!-- Search -->
        <div class="relative">
          <svg class="absolute left-3 top-1/2 -translate-y-1/2 text-text-tertiary" width="15" height="15" viewBox="0 0 256 256"><path d="M229.66,218.34l-50.07-50.07a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.31ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z" fill="currentColor"/></svg>
          <input type="text" placeholder="Search contacts..." class="w-full pl-9 pr-3 py-2 text-sm rounded-md border bg-surface-primary placeholder:text-text-tertiary focus:outline-none focus:ring-1 focus:ring-zinc-900/50 focus:ring-offset-1" />
        </div>

        <!-- Contact groups -->
        <!-- Angels -->
        <div>
          <button class="flat-row w-full flex items-center justify-between px-2 py-1.5">
            <div class="flex items-center gap-2">
              <svg width="12" height="12" viewBox="0 0 12 12" class="text-text-tertiary"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
              <span class="text-xs font-medium text-text-tertiary">Angels</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-[11px] text-text-tertiary">3/3</span>
              <div class="checkbox checked"><svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5L4 7L8 3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            </div>
          </button>
          <div class="mt-0.5 space-y-px">
            <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left" style="background:hsl(var(--surface-secondary))">
              <div class="checkbox checked"><svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5L4 7L8 3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              <div class="w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold av-blue">MA</div>
              <div class="flex-1 min-w-0">
                <p class="text-sm font-medium truncate">Marc Andreessen</p>
                <p class="text-xs text-text-tertiary truncate">marc@a16z.com</p>
              </div>
              <svg width="14" height="14" viewBox="0 0 256 256" fill="hsl(var(--status-success))"><path d="M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/></svg>
            </button>
            <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left" style="background:hsl(var(--surface-secondary))">
              <div class="checkbox checked"><svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5L4 7L8 3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              <div class="w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold av-emerald">RB</div>
              <div class="flex-1 min-w-0">
                <p class="text-sm font-medium truncate">Roelof Botha</p>
                <p class="text-xs text-text-tertiary truncate">roelof@sequoia.com</p>
              </div>
              <svg width="14" height="14" viewBox="0 0 256 256" fill="hsl(var(--status-success))"><path d="M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/></svg>
            </button>
            <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left" style="background:hsl(var(--surface-secondary))">
              <div class="checkbox checked"><svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5L4 7L8 3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              <div class="w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold av-violet">JS</div>
              <div class="flex-1 min-w-0">
                <p class="text-sm font-medium truncate">James Schuyler</p>
                <p class="text-xs text-text-tertiary truncate">james@schuyler.org</p>
              </div>
              <svg width="14" height="14" viewBox="0 0 256 256" fill="hsl(var(--status-success))"><path d="M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/></svg>
            </button>
          </div>
        </div>

        <!-- Lead Investors -->
        <div>
          <button class="flat-row w-full flex items-center justify-between px-2 py-1.5">
            <div class="flex items-center gap-2">
              <svg width="12" height="12" viewBox="0 0 12 12" class="text-text-tertiary"><path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
              <span class="text-xs font-medium text-text-tertiary">Lead Investors</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-[11px] text-text-tertiary">1/2</span>
              <div class="checkbox checked" style="background:hsl(var(--surface-inverse))"><svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2.5 5H7.5" stroke="white" stroke-width="1.5" stroke-linecap="round"/></svg></div>
            </div>
          </button>
          <div class="mt-0.5 space-y-px">
            <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left" style="background:hsl(var(--surface-secondary))">
              <div class="checkbox checked"><svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5L4 7L8 3" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              <div class="w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold av-amber">PG</div>
              <div class="flex-1 min-w-0">
                <p class="text-sm font-medium truncate">Paul Graham</p>
                <p class="text-xs text-text-tertiary truncate">pg@ycombinator.com</p>
              </div>
            </button>
            <!-- No NDA warning on this contact -->
            <button class="flat-row w-full flex items-center gap-3 px-2 py-2 text-left">
              <div class="checkbox"></div>
              <div class="w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold av-rose">SA</div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center gap-1.5">
                  <p class="text-sm font-medium truncate">Sam Altman</p>
                  <span class="inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded text-[10px] font-medium" style="background:hsl(var(--status-warning-bg));color:hsl(var(--status-warning))">No NDA</span>
                </div>
                <p class="text-xs text-text-tertiary truncate">sam@openai.com</p>
              </div>
            </button>
          </div>
        </div>

        <!-- VCs (collapsed) -->
        <div>
          <button class="flat-row w-full flex items-center justify-between px-2 py-1.5">
            <div class="flex items-center gap-2">
              <svg width="12" height="12" viewBox="0 0 12 12" class="text-text-tertiary"><path d="M4.5 3L7.5 6L4.5 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
              <span class="text-xs font-medium text-text-tertiary">Venture Capital</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-[11px] text-text-tertiary">0/3</span>
              <div class="checkbox"></div>
            </div>
          </button>
        </div>

        <!-- Advisors (collapsed) -->
        <div>
          <button class="flat-row w-full flex items-center justify-between px-2 py-1.5">
            <div class="flex items-center gap-2">
              <svg width="12" height="12" viewBox="0 0 12 12" class="text-text-tertiary"><path d="M4.5 3L7.5 6L4.5 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/></svg>
              <span class="text-xs font-medium text-text-tertiary">Advisors</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-[11px] text-text-tertiary">0/1</span>
              <div class="checkbox"></div>
            </div>
          </button>
        </div>

        <!-- Add external -->
        <button class="w-full flex items-center gap-2 rounded-md border border-dashed px-3 py-2.5 text-sm text-text-secondary hover:border-border-strong hover:bg-surface-secondary transition-colors">
          <svg width="14" height="14" viewBox="0 0 256 256" fill="currentColor"><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/></svg>
          Add external recipient
        </button>
      </div>
    </div>

    <!-- Footer -->
    <div class="border-t px-5 py-3">
      <div class="flex gap-2">
        <button class="flex-1 py-2 px-4 rounded-full border text-sm font-medium text-text-secondary hover:bg-surface-secondary transition-colors">Back</button>
        <button class="flex-1 py-2 px-4 rounded-full text-sm font-medium text-white" style="background:hsl(var(--surface-inverse))">Continue</button>
      </div>
    </div>
  </div>

  <!-- Annotation -->
  <div class="fixed bottom-4 left-4 max-w-md p-4 rounded-lg bg-white border shadow-lg text-sm space-y-2">
    <p class="font-bold text-base">Option A: Audience-First</p>
    <p class="text-text-secondary">Inspired by email composer v2. Two-mode choice at top: "All contacts" or "Custom selection." NDA warning surfaces when selecting contacts without signed NDA. Groups collapse/expand. Already-sent shown in disabled state with badge (not shown here for space).</p>
    <div class="text-xs text-text-tertiary space-y-1">
      <p><strong>Strength:</strong> Fast path for "send to everyone" (most common). NDA warning is contextual.</p>
      <p><strong>Weakness:</strong> Two levels of interaction â€” mode choice then individual picks.</p>
    </div>
  </div>
</body>
</html>