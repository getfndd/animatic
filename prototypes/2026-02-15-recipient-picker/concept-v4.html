<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Option C: Token Field with Smart Groups</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://api.fontshare.com/v2/css?f[]=satoshi@400,500,700&display=swap" rel="stylesheet">
  <style>
    :root {
      --surface-primary: 0 0% 100%;
      --surface-secondary: 0 0% 98%;
      --surface-tertiary: 0 0% 96%;
      --surface-inverse: 0 0% 9%;
      --text-primary: 0 0% 9%;
      --text-secondary: 0 0% 45%;
      --text-tertiary: 0 0% 64%;
      --text-inverse: 0 0% 98%;
      --border-default: 0 0% 90%;
      --border-subtle: 0 0% 94%;
      --border-strong: 0 0% 80%;
      --status-success: 142 71% 45%;
      --status-success-bg: 142 76% 94%;
      --status-error: 0 84% 60%;
      --status-error-bg: 0 86% 97%;
      --status-warning: 38 92% 50%;
      --status-warning-bg: 48 96% 95%;
      --radius: 0.5rem;
    }
    * { border-color: hsl(var(--border-default)); }
    body {
      font-family: 'Satoshi', system-ui, -apple-system, sans-serif;
      background-color: hsl(0 0% 50% / 0.3);
      color: hsl(var(--text-primary));
      -webkit-font-smoothing: antialiased;
    }
    @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
    .slideout { animation: slideIn 0.25s ease-out; }

    .av-blue { background: #DBEAFE; color: #1E40AF; }
    .av-emerald { background: #D1FAE5; color: #065F46; }
    .av-amber { background: #FEF3C7; color: #92400E; }
    .av-violet { background: #EDE9FE; color: #5B21B6; }
    .av-rose { background: #FFE4E6; color: #9F1239; }
    .av-cyan { background: #CFFAFE; color: #155E75; }
    .av-teal { background: #CCFBF1; color: #134E4A; }

    /* Token field */
    .token-field {
      display: flex; flex-wrap: wrap; align-items: center; gap: 6px;
      padding: 8px 12px; min-height: 44px; border-bottom: 1px solid hsl(var(--border-default));
      cursor: text;
    }
    .token-field-label { font-size: 13px; color: hsl(var(--text-tertiary)); font-weight: 500; flex-shrink: 0; }
    .token-field input {
      flex: 1; min-width: 120px; border: none; outline: none; font-size: 13px;
      font-family: inherit; background: none; color: hsl(var(--text-primary));
    }
    .token-field input::placeholder { color: hsl(var(--text-tertiary)); }

    /* Token chip */
    .token {
      display: inline-flex; align-items: center; gap: 4px;
      padding: 2px 6px 2px 2px; border-radius: 999px;
      background: hsl(var(--surface-secondary)); border: 1px solid hsl(var(--border-subtle));
      font-size: 12px; font-weight: 500; white-space: nowrap;
      transition: border-color 140ms;
    }
    .token:hover { border-color: hsl(var(--border-strong)); }
    .token-av { width: 20px; height: 20px; border-radius: 999px; display: flex; align-items: center; justify-content: center; font-size: 9px; font-weight: 700; }
    .token-x { width: 14px; height: 14px; border-radius: 999px; display: flex; align-items: center; justify-content: center; color: hsl(var(--text-tertiary)); cursor: pointer; font-size: 12px; }
    .token-x:hover { background: hsl(var(--surface-tertiary)); color: hsl(var(--text-primary)); }

    /* Group token */
    .token-group {
      display: inline-flex; align-items: center; gap: 4px;
      padding: 2px 6px 2px 6px; border-radius: 999px;
      background: hsl(var(--surface-inverse)); color: hsl(var(--text-inverse));
      font-size: 12px; font-weight: 500; white-space: nowrap;
    }
    .token-group-x { width: 14px; height: 14px; border-radius: 999px; display: flex; align-items: center; justify-content: center; color: hsl(var(--text-inverse)); opacity: 0.6; cursor: pointer; font-size: 12px; }
    .token-group-x:hover { opacity: 1; background: rgba(255,255,255,0.15); }

    /* Dropdown */
    .dropdown {
      border-bottom: 1px solid hsl(var(--border-subtle));
      max-height: 400px; overflow-y: auto;
    }
    .dropdown-section { padding: 8px 4px 4px; }
    .dropdown-section-label { font-size: 11px; font-weight: 500; color: hsl(var(--text-tertiary)); padding: 4px 12px; }

    .dropdown-item {
      display: flex; align-items: center; gap: 10px;
      padding: 8px 12px; border-radius: 4px;
      cursor: pointer; transition: background 140ms;
    }
    .dropdown-item:hover { background: hsl(var(--surface-secondary)); }
    .dropdown-item.disabled { opacity: 0.4; cursor: default; }
    .dropdown-item.disabled:hover { background: none; }

    .nda-badge { display: inline-flex; align-items: center; gap: 3px; padding: 1px 5px; border-radius: 4px; font-size: 10px; font-weight: 500; background: hsl(var(--status-warning-bg)); color: hsl(var(--status-warning)); }
    .sent-badge { display: inline-flex; align-items: center; gap: 3px; border-radius: 999px; background: hsl(var(--status-success-bg)); padding: 1px 6px; font-size: 10px; font-weight: 500; color: hsl(var(--status-success)); }

    .nda-warning-bar {
      display: flex; align-items: center; gap: 8px; padding: 8px 16px;
      background: hsl(var(--status-warning-bg)); font-size: 12px; color: hsl(var(--text-secondary));
      border-bottom: 1px solid hsl(var(--border-subtle));
    }
    .nda-warning-bar svg { color: hsl(var(--status-warning)); flex-shrink: 0; }
  </style>
  <script>
    tailwind.config = { theme: { extend: { colors: {
      'surface-primary': 'hsl(var(--surface-primary))', 'surface-secondary': 'hsl(var(--surface-secondary))',
      'surface-tertiary': 'hsl(var(--surface-tertiary))', 'surface-inverse': 'hsl(var(--surface-inverse))',
      'text-primary': 'hsl(var(--text-primary))', 'text-secondary': 'hsl(var(--text-secondary))',
      'text-tertiary': 'hsl(var(--text-tertiary))', 'border-default': 'hsl(var(--border-default))',
    }, borderRadius: { lg: 'var(--radius)', md: 'calc(var(--radius) - 2px)', sm: 'calc(var(--radius) - 4px)' } } } }
  </script>
</head>
<body class="min-h-screen flex items-start justify-end">
  <div class="slideout w-[480px] min-h-screen bg-surface-primary border-l shadow-xl flex flex-col">

    <!-- Header -->
    <div class="flex items-center justify-between px-6 py-4 border-b">
      <div>
        <h2 class="text-base font-semibold">Send Update</h2>
        <p class="text-xs text-text-tertiary mt-0.5">Q4 2025 Investor Update</p>
      </div>
      <button class="w-8 h-8 flex items-center justify-center rounded-md hover:bg-surface-secondary transition-colors">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M12 4L4 12M4 4l8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      </button>
    </div>

    <!-- Token field (email-style To field) -->
    <div class="token-field">
      <span class="token-field-label">To</span>
      <div class="token-group">Angels (3) <span class="token-group-x">&times;</span></div>
      <div class="token"><div class="token-av av-amber">PG</div> Paul Graham <span class="token-x">&times;</span></div>
      <input type="text" placeholder="Add name or group..." />
    </div>

    <!-- NDA warning bar -->
    <div class="nda-warning-bar">
      <svg width="14" height="14" viewBox="0 0 256 256" fill="currentColor"><path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"/></svg>
      <span>2 recipients without NDA &mdash; <button class="font-medium underline">review</button></span>
    </div>

    <!-- Autocomplete dropdown (visible while typing) -->
    <div class="dropdown">
      <!-- Quick groups -->
      <div class="dropdown-section">
        <div class="dropdown-section-label">Groups</div>
        <div class="dropdown-item">
          <div class="w-7 h-7 rounded-md flex items-center justify-center bg-surface-tertiary">
            <svg width="14" height="14" viewBox="0 0 256 256" fill="currentColor" class="text-text-secondary"><path d="M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"/></svg>
          </div>
          <div class="flex-1">
            <p class="text-sm font-medium">All contacts</p>
            <p class="text-xs text-text-tertiary">9 recipients</p>
          </div>
          <span class="text-xs text-text-tertiary tabular-nums">9</span>
        </div>
        <div class="dropdown-item" style="background:hsl(var(--surface-secondary)); opacity: 0.6;">
          <div class="w-7 h-7 rounded-md flex items-center justify-center bg-surface-tertiary">
            <svg width="14" height="14" viewBox="0 0 256 256" fill="currentColor" class="text-text-secondary"><path d="M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"/></svg>
          </div>
          <div class="flex-1">
            <div class="flex items-center gap-2">
              <p class="text-sm font-medium">Angels</p>
              <svg width="12" height="12" viewBox="0 0 256 256" fill="hsl(var(--status-success))"><path d="M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"/></svg>
            </div>
            <p class="text-xs text-text-tertiary">Already added</p>
          </div>
          <span class="text-xs text-text-tertiary tabular-nums">3</span>
        </div>
        <div class="dropdown-item">
          <div class="w-7 h-7 rounded-md flex items-center justify-center bg-surface-tertiary">
            <svg width="14" height="14" viewBox="0 0 256 256" fill="currentColor" class="text-text-secondary"><path d="M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"/></svg>
          </div>
          <div class="flex-1">
            <p class="text-sm font-medium">Lead Investors</p>
            <p class="text-xs text-text-tertiary">2 contacts</p>
          </div>
          <span class="text-xs text-text-tertiary tabular-nums">2</span>
        </div>
        <div class="dropdown-item">
          <div class="w-7 h-7 rounded-md flex items-center justify-center bg-surface-tertiary">
            <svg width="14" height="14" viewBox="0 0 256 256" fill="currentColor" class="text-text-secondary"><path d="M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"/></svg>
          </div>
          <div class="flex-1">
            <p class="text-sm font-medium">Venture Capital</p>
            <p class="text-xs text-text-tertiary">3 contacts</p>
          </div>
          <span class="text-xs text-text-tertiary tabular-nums">3</span>
        </div>
        <div class="dropdown-item">
          <div class="w-7 h-7 rounded-md flex items-center justify-center bg-surface-tertiary">
            <svg width="14" height="14" viewBox="0 0 256 256" fill="currentColor" class="text-text-secondary"><path d="M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"/></svg>
          </div>
          <div class="flex-1">
            <p class="text-sm font-medium">Advisors</p>
            <p class="text-xs text-text-tertiary">1 contact</p>
          </div>
          <span class="text-xs text-text-tertiary tabular-nums">1</span>
        </div>
      </div>

      <!-- Divider -->
      <div class="border-t mx-4"></div>

      <!-- Individual contacts -->
      <div class="dropdown-section">
        <div class="dropdown-section-label">Contacts</div>
        <div class="dropdown-item disabled">
          <div class="w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold av-blue">MA</div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-1.5">
              <p class="text-sm font-medium truncate">Marc Andreessen</p>
              <svg width="12" height="12" viewBox="0 0 256 256" fill="hsl(var(--status-success))"><path d="M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"/></svg>
            </div>
            <p class="text-xs text-text-tertiary">marc@a16z.com &middot; via Angels</p>
          </div>
        </div>
        <div class="dropdown-item">
          <div class="w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold av-rose">SA</div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-1.5">
              <p class="text-sm font-medium truncate">Sam Altman</p>
              <span class="nda-badge">No NDA</span>
            </div>
            <p class="text-xs text-text-tertiary">sam@openai.com &middot; Lead</p>
          </div>
        </div>
        <div class="dropdown-item">
          <div class="w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold av-cyan">BH</div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-1.5">
              <p class="text-sm font-medium truncate">Ben Horowitz</p>
              <span class="nda-badge">No NDA</span>
            </div>
            <p class="text-xs text-text-tertiary">ben@a16z.com &middot; VC</p>
          </div>
        </div>
        <div class="dropdown-item">
          <div class="w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold av-teal">MZ</div>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-medium truncate">Mike Zapata</p>
            <p class="text-xs text-text-tertiary">mike@lightspeed.vc &middot; VC</p>
          </div>
        </div>
        <div class="dropdown-item disabled">
          <div class="w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold av-teal">VK</div>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-medium truncate">Vinod Khosla</p>
            <p class="text-xs text-text-tertiary">vinod@khoslaventures.com &middot; VC</p>
          </div>
          <span class="sent-badge">Sent</span>
        </div>
        <div class="dropdown-item">
          <div class="w-7 h-7 rounded-full flex items-center justify-center text-[10px] font-bold av-teal">RH</div>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-medium truncate">Reid Hoffman</p>
            <p class="text-xs text-text-tertiary">reid@greylock.com &middot; Advisor</p>
          </div>
        </div>
      </div>

      <!-- Type to add email -->
      <div class="dropdown-section pb-3">
        <div class="dropdown-item">
          <div class="w-7 h-7 rounded-md flex items-center justify-center bg-surface-tertiary">
            <svg width="14" height="14" viewBox="0 0 256 256" fill="currentColor" class="text-text-secondary"><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/></svg>
          </div>
          <div class="flex-1">
            <p class="text-sm font-medium text-text-secondary">Add email address</p>
            <p class="text-xs text-text-tertiary">Type an email to add a one-time recipient</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Spacer for content below dropdown -->
    <div class="flex-1"></div>

    <!-- Footer -->
    <div class="border-t px-5 py-3">
      <div class="flex items-center justify-between mb-3">
        <span class="text-xs text-text-tertiary">4 recipients &middot; 2 without NDA</span>
      </div>
      <div class="flex gap-2">
        <button class="flex-1 py-2 px-4 rounded-full border text-sm font-medium text-text-secondary hover:bg-surface-secondary transition-colors">Cancel</button>
        <button class="flex-1 py-2.5 px-4 rounded-full text-sm font-medium text-white" style="background:hsl(var(--surface-inverse))">
          Review &amp; Send
        </button>
      </div>
    </div>
  </div>

  <!-- Annotation -->
  <div class="fixed bottom-4 left-4 max-w-md p-4 rounded-lg bg-white border shadow-lg text-sm space-y-2">
    <p class="font-bold text-base">Option C: Token Field + Smart Autocomplete</p>
    <p class="text-text-secondary">Gmail/Linear-style "To" field with token chips. Type to search contacts or groups. Groups appear as dark tokens, individuals as light tokens with avatars. NDA warning bar sits below the To field. Autocomplete shows groups first, then contacts with inline NDA/sent badges.</p>
    <div class="text-xs text-text-tertiary space-y-1">
      <p><strong>Strength:</strong> Most familiar email pattern. Fast keyboard-driven. Groups and individuals in one unified field.</p>
      <p><strong>Weakness:</strong> Harder to see "who's in a group" without expanding. Requires typing (less discoverable for new users).</p>
    </div>
  </div>
</body>
</html>