# AI Cinematography Pipeline

From prototype animations to produced sizzle reels.

## What This Is

An extension of Animatic's existing animation pipeline that adds multi-scene sequencing, mixed media compositing, and AI-directed editing. The current pipeline produces single looping autoplay demos from HTML prototypes. This pipeline produces edited multi-shot videos from collections of scenes.

**Current pipeline:**
```
/prototype → /animate → capture → single looping video
```

**Cinematography pipeline:**
```
Scenes (HTML + media) → Sequence Manifest (JSON) → Remotion → edited multi-shot video
```

The current pipeline is not replaced. It continues to serve its purpose (product demo loops for landing pages, email, embed). The cinematography pipeline builds on top of it for longer-form, multi-shot content like sizzle reels, brand films, and product launch videos.

## Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                        Asset Inputs                             │
│  Video clips  |  Images  |  HTML prototypes  |  Text content    │
└──────────────────────────────┬──────────────────────────────────┘
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                     Scene Definitions                           │
│  Each scene = self-contained composition (canvas + layers +     │
│  assets + camera directive + duration + metadata)               │
│  Format: scene-format.json (see docs/cinematography/specs/)     │
└──────────────────────────────┬──────────────────────────────────┘
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│              Sequence Manifest (Edit Decision List)              │
│  Ordered scenes + durations + transitions + style pack          │
│  Format: sequence-manifest.json                                 │
│  Authored by hand (Phase 1-3) or AI planner (Phase 4+)         │
└──────────────────────────────┬──────────────────────────────────┘
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                      Remotion Renderer                          │
│  React compositions rendered frame-by-frame via headless        │
│  Chromium + ffmpeg. Handles sequencing, transitions, camera     │
│  interpolation, and media compositing.                          │
└──────────────────────────────┬──────────────────────────────────┘
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                        Video Output                             │
│  MP4 / WebM / ProRes / GIF (same formats as current capture)    │
└─────────────────────────────────────────────────────────────────┘
```

### Future: AI Director Layer (Phase 4-5)

```
┌─────────────────────────────────────────────────────────────────┐
│                    Scene Analysis Engine                         │
│  Classifies content type, visual weight, motion energy,         │
│  complexity, emotional tone. Rule-based + LLM-assisted.         │
└──────────────────────────────┬──────────────────────────────────┘
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│                     Sequence Planner                            │
│  Given analyzed scenes + style pack → produces sequence         │
│  manifest. Decides shot order, hold durations, transitions,     │
│  camera moves. Rule-based v1, LLM-enhanced v2.                 │
└──────────────────────────────┬──────────────────────────────────┘
                               ▼
                    Sequence Manifest (JSON)
                               ▼
                       Remotion Renderer
```

## Key Concepts

### Scene

A self-contained composition with declared dimensions, duration, assets, and camera intent. Scenes can contain HTML elements, video, images, or any combination. A scene is the atomic unit — the equivalent of a single shot in film.

Spec: [`docs/cinematography/specs/scene-format.md`](specs/scene-format.md)

### Sequence Manifest

An ordered list of scenes with timing, transitions, and global settings. The JSON equivalent of a video timeline or edit decision list. Can be authored by hand or generated by the AI planner.

Spec: [`docs/cinematography/specs/sequence-manifest.md`](specs/sequence-manifest.md)

### Style Pack

A JSON definition that biases the sequence planner's decisions — cut cadence, camera preferences, transition weights. Maps to existing animation personalities. Three v1 packs: prestige (slow, crossfades), energy (fast, hard cuts), dramatic (variable, push-ins).

### Camera Rig

A Remotion component that wraps scenes and applies interpolated camera transforms (push-in, pull-out, pan, drift). Evolved from the catalog preview camera rig and dot grid stage wrapper. Supports single moves in v1, compound moves in v2.

### Layout Composition

Pre-built scene templates for common sizzle reel patterns: hero-center, split-panel, masonry-grid, full-bleed-media, device-mockup. Accept content in slots. Not animations — spatial arrangements.

## Phased Delivery

### Phase 1: Scene + Sequence Foundation

Define the formats. Validate mixed media works in HTML prototypes with our existing Puppeteer capture pipeline.

| Issue | Deliverable |
|-------|-------------|
| ANI-12 | Scene format JSON schema + docs |
| ANI-13 | Sequence manifest JSON schema + docs |
| ANI-14 | Proof-of-concept: `<video>` + CSS animation in a prototype, captured via Puppeteer |

### Phase 2: Remotion Renderer

Integrate Remotion. Replace Puppeteer capture for multi-scene work. Achieve multi-scene sequencing with transitions.

| Issue | Deliverable |
|-------|-------------|
| ANI-15 | Remotion project bootstrapped, single scene renders to MP4 |
| ANI-16 | `<SequenceRenderer>` reads manifest, renders scenes with hard cuts |
| ANI-17 | Transition engine: crossfade, whip-wipe (ported from montage personality) |
| ANI-18 | Asset pipeline: `<Video>`, `<Img>` in Remotion compositions |

### Phase 3: Composition Quality — PRODUCTION GAP CLOSED

Full-frame camera, kinetic type, layout templates. After this phase, a human can produce sizzle reel-quality video by authoring scenes + manifest + running Remotion render.

| Issue | Deliverable |
|-------|-------------|
| ANI-19 | `<CameraRig>` component: push-in, pull-out, pan, drift at 1080p |
| ANI-20 | 4 kinetic type primitives: word-reveal, scale-cascade, weight-morph, type-over-media |
| ANI-21 | 5 layout templates: hero-center, split-panel, masonry-grid, full-bleed, device-mockup |

**After Phase 3:** The system can produce videos comparable to professional sizzle reels. What's manual: scene design, shot order, timing. What's automated: animation, camera, transitions, encoding.

### Phase 4: AI Editor

Automate editorial decisions. AI analyzes scenes and plans sequences.

| Issue | Deliverable |
|-------|-------------|
| ANI-22 | Scene analysis engine (content type, visual weight, complexity) |
| ANI-23 | Sequence planner (scenes + style pack → manifest) |
| ANI-24 | 3 style packs: prestige, energy, dramatic |
| ANI-25 | `/sizzle` CLI command: scenes folder + style → rendered video |

### Phase 5: Full Vision — AI Director

Film grammar, compound camera, evaluation, guardrails, advanced styles, scene generation.

| Issue | Deliverable |
|-------|-------------|
| ANI-26 | Shot grammar engine (sizes, angles, framing patterns) |
| ANI-27 | Compound camera moves (simultaneous multi-axis interpolation) |
| ANI-28 | Evaluation engine (sequence quality scoring) |
| ANI-29 | Guardrails (acceleration clamping, shake budgets, safe margins) |
| ANI-30 | Advanced style packs (director-inspired grammars, style blending) |
| ANI-31 | Scene generation from brief (assets + brief → scene compositions) |

## Reference Target

The target output quality is a 31-second product sizzle reel (`high.mp4`) containing 12 distinct shots:

| Shot | Content | Technique |
|------|---------|-----------|
| 1 | Portrait close-up | Live video, slow push-in |
| 2 | Kinetic type over portrait | Text reveal composited on video |
| 3 | Architecture moodboard | Masonry grid, mixed media |
| 4 | Table of contents scroll | Typography weight-morph, focus state |
| 5 | Multi-panel product UI | AI chat + data table + brand brief |
| 6 | Brand mark reveal | Centered logo, clean entrance |
| 7 | Dark notification card | UI component on dark background |
| 8-10 | Virtual try-on (3D) | Pre-rendered video, version thumbnails |
| 11 | Collaborative document | Split-panel: text + photography, cursors |
| 12-13 | Brand check dashboard | Grid reveal + device mockup with perspective |

Key observations:
- Mostly static or slow push-in camera (simple cinematography)
- Hard cuts between scenes (minimal transition complexity)
- 2-4 second holds per shot
- Sophistication is in content composition and sequencing, not camera work
- 3D content is pre-rendered (not real-time) — treated as video assets

## Relationship to Existing System

| Existing | Cinematography Pipeline | Relationship |
|----------|------------------------|-------------|
| 120 animation primitives | Used within scenes | Primitives transfer directly |
| 4 personalities | Style packs extend them | Prestige=editorial, energy=montage, dramatic=cinematic |
| Puppeteer capture | Remotion replaces it (for multi-scene) | Single-scene capture still works via Puppeteer |
| `/animate` skill | `/sizzle` skill (Phase 4) | Both coexist. `/animate` for single demos, `/sizzle` for multi-shot |
| Camera primitives (catalog) | `<CameraRig>` component | Same transforms, scaled from 160px to 1080p |
| Montage transitions | Transition engine | Same CSS, ported to Remotion `interpolate()` |
| Choreography plans | Sequence manifests | Same concept (phase ordering), different scope (scenes not phases) |

## Why Remotion

Remotion is an open-source React-based video framework. It replaces our Puppeteer capture pipeline for multi-scene work.

| Capability | Current (Puppeteer) | Remotion |
|------------|-------------------|----------|
| Single scene capture | Native | Native |
| Multi-scene sequencing | Not supported | `<Series>` component |
| Frame-accurate video | Virtual time hack | Native `useCurrentFrame()` |
| Video compositing | Not supported | Native `<Video>` component |
| Audio sync | Not supported | Native `<Audio>` component |
| Transitions | Not supported | `interpolate()` + CSS |
| Distribution formats | Custom ffmpeg script | Built-in ffmpeg |

Our CSS animations, spring physics, and primitive library transfer directly — Remotion renders the same DOM/CSS as a browser. The migration is the renderer, not the content.

## Tracking

- **Linear project:** [AI Cinematography Pipeline](https://linear.app/fnddtech/project/ai-cinematography-pipeline-563a31407a6f)
- **Team:** animatic
- **Issues:** ANI-12 through ANI-31
