<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Room Upload — Editorial Autoplay</title>
<style>
/* ================================================================
   EDITORIAL PERSONALITY — Animation System (inlined)

   Source: .claude/skills/animate/personalities/editorial/motion.css
   Figma MCP POC — token overrides from simulated get_variable_defs
   ================================================================ */

/* ---- LAYER 1: DESIGN TOKENS ---- */
:root {
  /* Surfaces */
  --ed-bg-body: #fafaf9;
  --ed-surface-card: #ffffff;
  --ed-surface-secondary: #f5f5f4;
  --ed-surface-hover: #e7e5e4;
  --ed-surface-overlay: rgba(0,0,0,0.03);

  /* Text */
  --ed-text-primary: #1c1917;
  --ed-text-secondary: #44403c;
  --ed-text-tertiary: #78716c;
  --ed-text-quaternary: #a8a29e;

  /* Borders */
  --ed-border-subtle: #e7e5e4;
  --ed-border-medium: #d6d3d1;
  --ed-border-active: #6366f1;

  /* Accents — overridden by Figma variables (indigo instead of blue) */
  --ed-accent: #6366f1;
  --ed-accent-bg: #eef2ff;
  --ed-accent-text: #4338ca;
  --ed-success: #16a34a;
  --ed-success-bg: #f0fdf4;

  /* Shadows */
  --ed-shadow-card: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
  --ed-shadow-elevated: 0 4px 12px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.04);

  /* Typography */
  --ed-font: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --ed-font-mono: 'SF Mono', 'Fira Code', monospace;

  /* Radius */
  --ed-radius-sm: 4px;
  --ed-radius-md: 8px;
  --ed-radius-lg: 12px;
  --ed-radius-xl: 16px;

  /* Timing */
  --ed-fast: 150ms;
  --ed-medium: 400ms;
  --ed-slow: 700ms;

  /* Easing */
  --ed-ease-out: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ed-ease-in: cubic-bezier(0.55, 0.06, 0.68, 0.19);
  --ed-ease-smooth: cubic-bezier(0.25, 0.1, 0.25, 1);

  /* Ambient */
  --ed-gradient-start: #eef2ff;
  --ed-gradient-end: #f5f3ff;
}


/* ---- LAYER 2: BASE STYLES ---- */
body {
  background: var(--ed-bg-body);
  color: var(--ed-text-primary);
  font-family: var(--ed-font);
  margin: 0;
  padding: 40px 20px;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  -webkit-font-smoothing: antialiased;
}


/* ---- LAYER 3: SCENE ---- */
.scene {
  width: 100%;
  max-width: 720px;
  margin: 0 auto;
}


/* ---- LAYER 4: CARD ---- */
.card {
  background: var(--ed-surface-card);
  border-radius: var(--ed-radius-xl);
  border: 1px solid var(--ed-border-subtle);
  box-shadow: var(--ed-shadow-card);
  overflow: hidden;
  position: relative;
  padding-bottom: 44px; /* Reserve space for absolutely-positioned footer */
}


/* ---- LAYER 5: CARD HEADER ---- */
.card-header {
  padding: 20px 24px 16px;
  border-bottom: 1px solid var(--ed-border-subtle);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.card-header .title-block {
  opacity: 1;
  transition: opacity var(--ed-fast) var(--ed-ease-out);
}

.card-header .title-block.transitioning {
  opacity: 0;
}

.card-header h2 {
  font-size: 16px;
  font-weight: 600;
  color: var(--ed-text-primary);
  margin: 0;
  line-height: 1.4;
}

.card-header .subtitle {
  font-size: 13px;
  color: var(--ed-text-tertiary);
  margin: 4px 0 0;
}


/* ---- LAYER 6: PHASE CONTAINER ---- */
.phase-container {
  position: relative;
  overflow: hidden;
  transition: height var(--ed-slow) var(--ed-ease-smooth);
}

.phase {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  padding: 20px 24px;
  box-sizing: border-box;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--ed-medium) var(--ed-ease-out);
}

.phase.active {
  opacity: 1;
  pointer-events: auto;
}

.phase.exiting {
  opacity: 0;
  pointer-events: none;
}

.phase.measuring {
  position: relative;
  opacity: 1;
  pointer-events: none;
}


/* ---- LAYER 7: SLIDE+FADE ---- */
.slide-enter {
  opacity: 0;
  transform: translateY(10px);
  transition: opacity var(--ed-medium) var(--ed-ease-out),
              transform var(--ed-medium) var(--ed-ease-out);
}

.slide-enter.visible {
  opacity: 1;
  transform: translateY(0);
}


/* ---- LAYER 8: BLUR-TO-SHARP ---- */
.blur-reveal {
  opacity: 0;
  filter: blur(8px);
  transform: scale(0.98);
  transition: opacity var(--ed-slow) var(--ed-ease-out),
              filter var(--ed-slow) var(--ed-ease-out),
              transform var(--ed-slow) var(--ed-ease-out);
}

.blur-reveal.visible {
  opacity: 1;
  filter: blur(0);
  transform: scale(1);
}


/* ---- LAYER 9: CONTENT CYCLING ---- */
.cycle-container {
  position: relative;
  display: inline-flex;
  align-items: center;
  overflow: hidden;
}

.cycle-item {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  opacity: 0;
  transform: translateY(6px);
  transition: opacity var(--ed-medium) var(--ed-ease-out),
              transform var(--ed-medium) var(--ed-ease-out);
  white-space: nowrap;
}

.cycle-item.active {
  position: relative;
  opacity: 1;
  transform: translateY(0);
}

.cycle-item.exiting {
  opacity: 0;
  transform: translateY(-6px);
}


/* ---- LAYER 11: COUNT-UP ---- */
.count-up {
  font-variant-numeric: tabular-nums;
  font-weight: 600;
}


/* ---- LAYER 12: AMBIENT GRADIENT ---- */
.ambient-gradient {
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(
    ellipse at 30% 40%,
    var(--ed-gradient-start) 0%,
    transparent 50%
  ),
  radial-gradient(
    ellipse at 70% 60%,
    var(--ed-gradient-end) 0%,
    transparent 50%
  );
  opacity: 0.5;
  animation: ed-ambient-drift 14s ease-in-out infinite alternate;
  pointer-events: none;
  z-index: 0;
}

@keyframes ed-ambient-drift {
  0% { transform: translate(0, 0) rotate(0deg); }
  100% { transform: translate(3%, 2%) rotate(2deg); }
}


/* ---- LAYER 13: TYPEWRITER ---- */
.typewriter-text {
  border-right: 2px solid var(--ed-text-primary);
  padding-right: 2px;
  animation: ed-cursor-blink 600ms step-end infinite;
}

.typewriter-text.done {
  border-right-color: transparent;
  animation: none;
}

@keyframes ed-cursor-blink {
  0%, 100% { border-right-color: var(--ed-text-primary); }
  50% { border-right-color: transparent; }
}


/* ---- LAYER 14: BADGE ---- */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 500;
}

.badge--accent {
  background: var(--ed-accent-bg);
  color: var(--ed-accent-text);
}

.badge--success {
  background: var(--ed-success-bg);
  color: var(--ed-success);
}


/* ---- LAYER 15: FOOTER ---- */
.card-footer {
  padding: 12px 24px 16px;
  border-top: 1px solid var(--ed-border-subtle);
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-size: 12px;
  color: var(--ed-text-tertiary);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  opacity: 0;
  transition: opacity var(--ed-fast) var(--ed-ease-out);
}

.card-footer.active {
  opacity: 1;
}


/* ---- LAYER 16: PLAYBACK CONTROLS ---- */
.playback-bar {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 24px 0 0;
}

.play-btn {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: 1px solid var(--ed-border-medium);
  background: var(--ed-surface-card);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--ed-text-secondary);
  transition: border-color var(--ed-fast) var(--ed-ease-out),
              color var(--ed-fast) var(--ed-ease-out);
}

.play-btn:hover {
  border-color: var(--ed-accent);
  color: var(--ed-accent);
}

.phase-dots {
  display: flex;
  gap: 8px;
  align-items: center;
}

.phase-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--ed-border-medium);
  cursor: pointer;
  transition: background var(--ed-fast) var(--ed-ease-out),
              transform var(--ed-fast) var(--ed-ease-out);
}

.phase-dot.active {
  background: var(--ed-accent);
  transform: scale(1.25);
}

.phase-dot.completed {
  background: var(--ed-accent);
  opacity: 0.5;
}

.phase-label {
  font-size: 12px;
  color: var(--ed-text-tertiary);
  min-width: 60px;
}


/* ================================================================
   PROTOTYPE CONTENT STYLES
   ================================================================ */

/* -- Upload zone -- */
.upload-zone {
  border: 2px dashed var(--ed-border-subtle);
  border-radius: var(--ed-radius-lg);
  padding: 40px 24px;
  text-align: center;
  transition: border-color 300ms ease-out, background 300ms ease-out;
  cursor: pointer;
  background: var(--ed-surface-secondary);
  position: relative;
  overflow: hidden;
}

.upload-icon {
  width: 48px;
  height: 48px;
  margin: 0 auto 16px;
  background: var(--ed-accent-bg);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  z-index: 1;
}

.upload-icon svg {
  width: 24px;
  height: 24px;
  color: var(--ed-accent);
}

.upload-zone h3 {
  font-size: 15px;
  font-weight: 600;
  color: var(--ed-text-primary);
  margin: 0 0 4px;
  position: relative;
  z-index: 1;
}

.upload-zone p {
  font-size: 13px;
  color: var(--ed-text-tertiary);
  margin: 0;
  position: relative;
  z-index: 1;
}

.upload-formats {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 16px;
  position: relative;
  z-index: 1;
}

.format-badge {
  padding: 4px 10px;
  background: var(--ed-surface-card);
  border: 1px solid var(--ed-border-subtle);
  border-radius: 999px;
  font-size: 11px;
  font-weight: 500;
  color: var(--ed-text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* -- Stats row -- */
.stats-row {
  display: flex;
  gap: 12px;
  margin-top: 20px;
}

.stat-card {
  flex: 1;
  padding: 14px 16px;
  background: var(--ed-surface-secondary);
  border-radius: var(--ed-radius-md);
  text-align: center;
  border: none;
}

.stat-card .stat-value {
  font-size: 22px;
  font-weight: 700;
  color: var(--ed-text-primary);
  font-variant-numeric: tabular-nums;
}

.stat-card .stat-label {
  font-size: 11px;
  color: var(--ed-text-tertiary);
  margin-top: 2px;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

/* -- Processing phase -- */
.processing-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.processing-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: var(--ed-surface-secondary);
  border-radius: var(--ed-radius-md);
}

.processing-item .file-icon {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

/* File-type semantic colors — domain-specific, not personality-scoped */
.processing-item .file-icon.pdf { background: #fef2f2; color: #dc2626; }
.processing-item .file-icon.doc { background: #eff6ff; color: #2563eb; }
.processing-item .file-icon.xls { background: #f0fdf4; color: #16a34a; }
.processing-item .file-icon.ppt { background: #fef9ee; color: #d97706; }

.processing-item .file-icon svg {
  width: 18px;
  height: 18px;
}

.file-info {
  flex: 1;
  min-width: 0;
}

.file-info .file-name {
  font-size: 13px;
  font-weight: 500;
  color: var(--ed-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.file-info .file-status {
  font-size: 12px;
  color: var(--ed-text-tertiary);
  margin-top: 2px;
}

.processing-check {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  background: var(--ed-success-bg);
  color: var(--ed-success);
  opacity: 0;
  transform: scale(0.8);
  transition: opacity 300ms var(--ed-ease-out), transform 300ms var(--ed-ease-out);
}

.processing-check.visible {
  opacity: 1;
  transform: scale(1);
}

/* Progress bar */
.progress-section {
  margin-top: 16px;
  text-align: center;
}

.progress-bar {
  height: 4px;
  background: var(--ed-surface-secondary);
  border-radius: 2px;
  overflow: hidden;
  margin-bottom: 8px;
}

.progress-fill {
  height: 100%;
  background: var(--ed-accent);
  border-radius: 2px;
  width: 0%;
  transition: width 2400ms linear;
}

.progress-fill.animated {
  width: 100%;
}

.progress-label {
  font-size: 12px;
  color: var(--ed-text-tertiary);
}

/* -- Ready phase -- */
.ready-header {
  text-align: center;
  margin-bottom: 20px;
}

.ready-icon {
  width: 48px;
  height: 48px;
  margin: 0 auto 12px;
  background: var(--ed-success-bg);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--ed-success);
}

.ready-icon svg {
  width: 24px;
  height: 24px;
}

.ready-header h3 {
  font-size: 16px;
  font-weight: 600;
  color: var(--ed-text-primary);
  margin: 0 0 4px;
}

.ready-header p {
  font-size: 13px;
  color: var(--ed-text-tertiary);
  margin: 0;
}

.category-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 16px;
}

.category-card {
  padding: 14px;
  background: var(--ed-surface-secondary);
  border-radius: var(--ed-radius-md);
  border: 1px solid transparent;
  transition: border-color 200ms ease-out;
}

.category-card:hover {
  border-color: var(--ed-border-subtle);
}

.category-label {
  font-size: 12px;
  color: var(--ed-text-tertiary);
  margin-bottom: 4px;
}

.category-count {
  font-size: 20px;
  font-weight: 700;
  color: var(--ed-text-primary);
  font-variant-numeric: tabular-nums;
}

.category-count .unit {
  font-size: 13px;
  font-weight: 400;
  color: var(--ed-text-tertiary);
  margin-left: 2px;
}

/* Share link */
.share-section {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 16px;
  background: var(--ed-accent-bg);
  border-radius: var(--ed-radius-md);
  border: 1px solid rgba(99, 102, 241, 0.15);
}

.share-section svg {
  width: 16px;
  height: 16px;
  color: var(--ed-accent);
  flex-shrink: 0;
}

.share-link {
  flex: 1;
  font-family: var(--ed-font-mono);
  font-size: 12px;
  color: var(--ed-accent-text);
}

.share-copy {
  padding: 5px 12px;
  background: var(--ed-accent);
  color: var(--ed-surface-card);
  border: none;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  font-family: var(--ed-font);
  transition: opacity var(--ed-fast) var(--ed-ease-out);
}

.share-copy:hover {
  opacity: 0.9;
}

/* -- Cycle display for processing status -- */
.status-cycle {
  position: relative;
  height: 18px;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
}

/* -- SVG helpers -- */
svg.ph {
  display: inline-block;
  vertical-align: middle;
}
</style>
</head>
<body>

<div id="scene" class="scene">
  <div id="card" class="card">

    <!-- Header -->
    <div id="card-header" class="card-header">
      <div id="title-block" class="title-block">
        <h2 id="phase-title">Data Room</h2>
        <div id="phase-subtitle" class="subtitle">Upload and organize your documents</div>
      </div>
      <div class="badge badge--accent">
        <svg class="ph" width="12" height="12" viewBox="0 0 256 256"><path d="M208,104v104a16,16,0,0,1-16,16H64a16,16,0,0,1-16-16V104" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/><rect x="32" y="48" width="192" height="56" rx="8" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/><line x1="128" y1="76" x2="128" y2="76" fill="none" stroke="currentColor" stroke-width="24" stroke-linecap="round"/></svg>
        Secure
      </div>
    </div>

    <!-- Phase container -->
    <div id="phase-container" class="phase-container">

      <!-- Phase 0: Upload — drag zone + stats with blur reveal + count-up -->
      <div id="phase-0" class="phase active">
        <div class="upload-zone blur-reveal" data-blur-group="upload">
          <div class="ambient-gradient"></div>
          <div class="upload-icon">
            <svg class="ph" viewBox="0 0 256 256"><polyline points="86 110 128 68 170 110" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/><line x1="128" y1="68" x2="128" y2="172" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/><path d="M216,152v56a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V152" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <h3>Drag files here to upload</h3>
          <p>or click to browse your computer</p>
          <div class="upload-formats">
            <span class="format-badge">PDF</span>
            <span class="format-badge">DOCX</span>
            <span class="format-badge">XLSX</span>
            <span class="format-badge">PPTX</span>
          </div>
        </div>

        <div class="stats-row">
          <div class="stat-card blur-reveal" data-blur-group="upload">
            <div class="stat-value" data-count-target="256">0</div>
            <div class="stat-label">Files uploaded</div>
          </div>
          <div class="stat-card blur-reveal" data-blur-group="upload">
            <div class="stat-value" data-count-target="1.8" data-count-suffix=" GB" data-count-decimals="1">0</div>
            <div class="stat-label">Storage used</div>
          </div>
          <div class="stat-card blur-reveal" data-blur-group="upload">
            <div class="stat-value" data-count-target="12">0</div>
            <div class="stat-label">Investors</div>
          </div>
        </div>
      </div>

      <!-- Phase 1: Processing — file list stagger + progress + typewriter -->
      <div id="phase-1" class="phase">
        <div class="processing-list">
          <div class="processing-item slide-enter" data-stagger-group="files">
            <div class="file-icon pdf">
              <svg class="ph" viewBox="0 0 256 256"><path d="M200,224H56a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h96l56,56V216A8,8,0,0,1,200,224Z" fill="none" stroke="currentColor" stroke-width="16" stroke-linejoin="round"/><polyline points="152 32 152 88 208 88" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="file-info">
              <div class="file-name">Series_A_Term_Sheet_v3.pdf</div>
              <div class="file-status">Scanned &middot; 2.4 MB</div>
            </div>
            <div class="processing-check" data-stagger-group="checks">
              <svg class="ph" viewBox="0 0 256 256"><polyline points="40 144 96 200 224 72" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
          </div>

          <div class="processing-item slide-enter" data-stagger-group="files">
            <div class="file-icon doc">
              <svg class="ph" viewBox="0 0 256 256"><path d="M200,224H56a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h96l56,56V216A8,8,0,0,1,200,224Z" fill="none" stroke="currentColor" stroke-width="16" stroke-linejoin="round"/><polyline points="152 32 152 88 208 88" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="file-info">
              <div class="file-name">Cap_Table_2026.xlsx</div>
              <div class="file-status">Analyzing structure &middot; 856 KB</div>
            </div>
            <div class="processing-check" data-stagger-group="checks">
              <svg class="ph" viewBox="0 0 256 256"><polyline points="40 144 96 200 224 72" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
          </div>

          <div class="processing-item slide-enter" data-stagger-group="files">
            <div class="file-icon xls">
              <svg class="ph" viewBox="0 0 256 256"><path d="M200,224H56a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h96l56,56V216A8,8,0,0,1,200,224Z" fill="none" stroke="currentColor" stroke-width="16" stroke-linejoin="round"/><polyline points="152 32 152 88 208 88" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="file-info">
              <div class="file-name">Financial_Projections_Q1-Q4.xlsx</div>
              <div class="file-status">Extracting tables &middot; 1.1 MB</div>
            </div>
            <div class="processing-check" data-stagger-group="checks">
              <svg class="ph" viewBox="0 0 256 256"><polyline points="40 144 96 200 224 72" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
          </div>

          <div class="processing-item slide-enter" data-stagger-group="files">
            <div class="file-icon ppt">
              <svg class="ph" viewBox="0 0 256 256"><path d="M200,224H56a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h96l56,56V216A8,8,0,0,1,200,224Z" fill="none" stroke="currentColor" stroke-width="16" stroke-linejoin="round"/><polyline points="152 32 152 88 208 88" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div class="file-info">
              <div class="file-name">Pitch_Deck_February_2026.pptx</div>
              <div class="file-status">Processing slides &middot; 4.7 MB</div>
            </div>
            <div class="processing-check" data-stagger-group="checks">
              <svg class="ph" viewBox="0 0 256 256"><polyline points="40 144 96 200 224 72" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
          </div>
        </div>

        <div class="progress-section">
          <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
          </div>
          <div class="progress-label">
            <span class="typewriter-text" data-text="Scanning documents for sensitive information..."></span>
          </div>
        </div>
      </div>

      <!-- Phase 2: Ready — organized categories + share link -->
      <div id="phase-2" class="phase">
        <div class="ready-header blur-reveal" data-blur-group="ready">
          <div class="ready-icon">
            <svg class="ph" viewBox="0 0 256 256"><polyline points="40 144 96 200 224 72" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <h3>Data room is ready</h3>
          <p>All documents organized and secured</p>
        </div>

        <div class="category-grid">
          <div class="category-card slide-enter" data-stagger-group="categories">
            <div class="category-label">Financials</div>
            <div class="category-count"><span data-count-target="8">0</span><span class="unit"> files</span></div>
          </div>
          <div class="category-card slide-enter" data-stagger-group="categories">
            <div class="category-label">Legal</div>
            <div class="category-count"><span data-count-target="5">0</span><span class="unit"> files</span></div>
          </div>
          <div class="category-card slide-enter" data-stagger-group="categories">
            <div class="category-label">Product</div>
            <div class="category-count"><span data-count-target="3">0</span><span class="unit"> files</span></div>
          </div>
          <div class="category-card slide-enter" data-stagger-group="categories">
            <div class="category-label">Team</div>
            <div class="category-count"><span data-count-target="2">0</span><span class="unit"> files</span></div>
          </div>
        </div>

        <div class="share-section slide-enter" data-stagger-group="categories">
          <svg class="ph" viewBox="0 0 256 256"><circle cx="64" cy="128" r="24" fill="none" stroke="currentColor" stroke-width="16"/><circle cx="192" cy="64" r="24" fill="none" stroke="currentColor" stroke-width="16"/><circle cx="192" cy="192" r="24" fill="none" stroke="currentColor" stroke-width="16"/><line x1="85.1" y1="115.4" x2="170.9" y2="76.6" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round"/><line x1="85.1" y1="140.6" x2="170.9" y2="179.4" fill="none" stroke="currentColor" stroke-width="16" stroke-linecap="round"/></svg>
          <span class="share-link">app.yourco.com/room/a3f8k</span>
          <button class="share-copy">Copy</button>
        </div>
      </div>

    </div><!-- /phase-container -->

    <!-- Footers per phase -->
    <div id="footer-0" class="card-footer active">
      <span>256 files &middot; 1.8 GB</span>
      <span>12 investor viewers</span>
    </div>
    <div id="footer-1" class="card-footer">
      <span>AI-powered analysis</span>
      <span>4 files processing</span>
    </div>
    <div id="footer-2" class="card-footer">
      <span>18 files organized</span>
      <span>Ready to share</span>
    </div>

  </div><!-- /card -->
</div><!-- /scene -->

<!-- Playback controls -->
<div id="playback" class="playback-bar">
  <button id="play-btn" class="play-btn" onclick="togglePlay()">
    <svg id="icon-pause" width="14" height="14" viewBox="0 0 256 256"><rect x="156" y="48" width="36" height="160" rx="4" fill="currentColor"/><rect x="64" y="48" width="36" height="160" rx="4" fill="currentColor"/></svg>
    <svg id="icon-play" width="14" height="14" viewBox="0 0 256 256" style="display:none;"><path d="M72,39.9V216.1a8,8,0,0,0,12.15,6.69l144.08-88.1a7.82,7.82,0,0,0,0-13.38L84.15,33.21A8,8,0,0,0,72,39.9Z" fill="currentColor"/></svg>
  </button>
  <div id="phase-dots" class="phase-dots">
    <span class="phase-dot active" data-phase="0" onclick="jumpTo(0)"></span>
    <span class="phase-dot" data-phase="1" onclick="jumpTo(1)"></span>
    <span class="phase-dot" data-phase="2" onclick="jumpTo(2)"></span>
  </div>
  <span id="phase-label" class="phase-label">Upload</span>
</div>

<!-- ================================================================
     EDITORIAL ENGINE (inlined)
     Source: .claude/skills/animate/personalities/editorial/engine.js
     ================================================================ -->
<script>
class EditorialEngine {

  constructor(config) {
    this.phases = config.phases;
    this.titles = config.titles;
    this.subtitles = config.subtitles || [];
    this.phaseCallbacks = config.onPhaseEnter || {};
    this.loopPause = config.loopPause ?? 1500;
    this.tokenOverrides = config.tokenOverrides || null;

    this.sel = Object.assign({
      scene: '#scene',
      card: '#card',
      cardHeader: '#card-header',
      titleBlock: '#title-block',
      phaseTitle: '#phase-title',
      phaseSubtitle: '#phase-subtitle',
      phaseContainer: '#phase-container',
      playbackBar: '#playback',
      playBtn: '#play-btn',
      iconPause: '#icon-pause',
      iconPlay: '#icon-play',
      phaseDots: '#phase-dots',
      phaseLabel: '#phase-label',
    }, config.selectors || {});

    this.currentPhase = 0;
    this.playing = true;
    this.phaseTimer = null;
    this.phaseHeights = {};
    this._timers = [];
    this._intervals = [];
    this._rafs = [];

    this.isEmbed = new URLSearchParams(window.location.search).has('embed');
  }

  $(selector) { return document.querySelector(selector); }
  $$(selector) { return document.querySelectorAll(selector); }
  delay(ms) { return new Promise(resolve => setTimeout(resolve, ms)); }

  pushTimer(fn, ms) {
    const id = setTimeout(fn, ms);
    this._timers.push(id);
    return id;
  }

  pushInterval(fn, ms) {
    const id = setInterval(fn, ms);
    this._intervals.push(id);
    return id;
  }

  clearAllTimers() {
    this._timers.forEach(t => clearTimeout(t));
    this._timers.length = 0;
    this._intervals.forEach(i => clearInterval(i));
    this._intervals.length = 0;
    this._rafs.forEach(r => cancelAnimationFrame(r));
    this._rafs.length = 0;
  }

  applyTokenOverrides() {
    if (!this.tokenOverrides) return;
    const root = document.documentElement;
    Object.entries(this.tokenOverrides).forEach(([prop, value]) => {
      root.style.setProperty(prop, value);
    });
  }

  measurePhases() {
    const container = this.$(this.sel.phaseContainer);
    container.style.transition = 'none';

    this.phases.forEach(p => {
      const el = this.$('#phase-' + p.id);
      el.classList.remove('active');
      el.classList.add('measuring');

      el.querySelectorAll('.slide-enter').forEach(f => {
        f.style.opacity = '1';
        f.style.transform = 'none';
      });
      el.querySelectorAll('.blur-reveal').forEach(f => {
        f.style.opacity = '1';
        f.style.filter = 'none';
        f.style.transform = 'none';
      });

      el.offsetHeight;
      this.phaseHeights[p.id] = el.scrollHeight + 8;

      el.querySelectorAll('.slide-enter').forEach(f => {
        f.style.opacity = '';
        f.style.transform = '';
      });
      el.querySelectorAll('.blur-reveal').forEach(f => {
        f.style.opacity = '';
        f.style.filter = '';
        f.style.transform = '';
      });

      el.classList.remove('measuring');
    });

    this.$('#phase-0').classList.add('active');
    container.style.height = this.phaseHeights[0] + 'px';
    requestAnimationFrame(() => { container.style.transition = ''; });
  }

  runSlideStagger(groupName, interval) {
    interval = interval || 120;
    const items = this.$$('[data-stagger-group="' + groupName + '"]');
    items.forEach(el => el.classList.remove('visible'));
    items.forEach((el, i) => {
      this.pushTimer(() => { el.classList.add('visible'); }, i * interval);
    });
  }

  runBlurReveal(groupName, interval) {
    interval = interval || 200;
    const items = this.$$('[data-blur-group="' + groupName + '"]');
    items.forEach(el => el.classList.remove('visible'));
    items.forEach((el, i) => {
      this.pushTimer(() => { el.classList.add('visible'); }, i * interval);
    });
  }

  runContentCycle(groupName, intervalMs) {
    intervalMs = intervalMs || 2800;
    const items = this.$$('[data-cycle-group="' + groupName + '"]');
    if (items.length === 0) return;

    let current = 0;
    items[0].classList.add('active');

    const cycle = () => {
      const prev = current;
      current = (current + 1) % items.length;
      items[prev].classList.remove('active');
      items[prev].classList.add('exiting');
      this.pushTimer(() => {
        items[prev].classList.remove('exiting');
        items[current].classList.add('active');
      }, 300);
    };

    this.pushInterval(cycle, intervalMs);
  }

  runCountUp(duration) {
    duration = duration || 800;
    const els = this.$$('[data-count-target]');

    els.forEach(el => {
      const target = parseFloat(el.dataset.countTarget);
      const prefix = el.dataset.countPrefix || '';
      const suffix = el.dataset.countSuffix || '';
      const decimals = (el.dataset.countDecimals || '0') | 0;
      const start = performance.now();

      const tick = (now) => {
        const t = Math.min((now - start) / duration, 1);
        const eased = 1 - (1 - t) * (1 - t);
        const value = (eased * target).toFixed(decimals);
        el.textContent = prefix + value + suffix;
        if (t < 1) {
          const raf = requestAnimationFrame(tick);
          this._rafs.push(raf);
        }
      };

      const raf = requestAnimationFrame(tick);
      this._rafs.push(raf);
    });
  }

  runTypewriter(selector, startDelay) {
    startDelay = startDelay || 0;
    const el = typeof selector === 'string' ? this.$(selector) : selector;
    if (!el) return;

    const text = el.dataset.text;
    if (!text) return;
    el.textContent = '';
    el.classList.remove('done');

    let i = 0;
    const typeChar = () => {
      if (i < text.length) {
        el.textContent += text[i];
        i++;
        this.pushTimer(typeChar, 28 + Math.random() * 22);
      } else {
        this.pushTimer(() => el.classList.add('done'), 400);
      }
    };
    this.pushTimer(typeChar, startDelay);
  }

  resetAllAnimations() {
    this.clearAllTimers();
    this.$$('.slide-enter').forEach(el => el.classList.remove('visible'));
    this.$$('.blur-reveal').forEach(el => el.classList.remove('visible'));
    this.$$('.cycle-item').forEach(el => el.classList.remove('active', 'exiting'));
    this.$$('.typewriter-text').forEach(el => {
      el.textContent = '';
      el.classList.remove('done');
    });
    this.$$('[data-count-target]').forEach(el => el.textContent = '0');
    this.$$('.tab').forEach(el => el.classList.remove('active'));
    this.$$('.processing-check').forEach(el => el.classList.remove('visible'));

    const progressFill = document.getElementById('progress-fill');
    if (progressFill) {
      progressFill.style.transition = 'none';
      progressFill.classList.remove('animated');
      progressFill.style.width = '0%';
      requestAnimationFrame(() => { progressFill.style.transition = ''; });
    }

    const tb = this.$(this.sel.titleBlock);
    if (tb) tb.classList.remove('transitioning');
  }

  transitionTo(targetPhase) {
    if (targetPhase === this.currentPhase) return;

    const container = this.$(this.sel.phaseContainer);
    const titleBlock = this.$(this.sel.titleBlock);
    const oldPhaseEl = this.$('#phase-' + this.currentPhase);
    const newPhaseEl = this.$('#phase-' + targetPhase);
    const oldFooter = this.$('#footer-' + this.currentPhase);
    const newFooter = this.$('#footer-' + targetPhase);

    container.style.height = this.phaseHeights[targetPhase] + 'px';

    if (titleBlock) {
      titleBlock.classList.add('transitioning');
      this.pushTimer(() => {
        const title = this.$(this.sel.phaseTitle);
        const subtitle = this.$(this.sel.phaseSubtitle);
        if (title) title.textContent = this.titles[targetPhase];
        if (subtitle && this.subtitles[targetPhase]) {
          subtitle.textContent = this.subtitles[targetPhase];
        }
        titleBlock.classList.remove('transitioning');
      }, 200);
    }

    oldPhaseEl.classList.remove('active');
    oldPhaseEl.classList.add('exiting');
    this.pushTimer(() => {
      newPhaseEl.classList.add('active');
      oldPhaseEl.classList.remove('exiting');
    }, 100);

    if (oldFooter) oldFooter.classList.remove('active');
    if (newFooter) newFooter.classList.add('active');

    this.$$('.phase-dot').forEach(dot => {
      const p = parseInt(dot.dataset.phase);
      dot.classList.remove('active', 'completed');
      if (p === targetPhase) dot.classList.add('active');
      else if (p < targetPhase) dot.classList.add('completed');
    });
    const label = this.$(this.sel.phaseLabel);
    if (label) label.textContent = this.phases[targetPhase].label;

    this.currentPhase = targetPhase;

    const callback = this.phaseCallbacks[targetPhase];
    if (callback) callback(this);
  }

  scheduleNext() {
    if (!this.playing) return;
    clearTimeout(this.phaseTimer);

    const dwell = this.phases[this.currentPhase].dwell;

    this.phaseTimer = setTimeout(() => {
      const next = this.currentPhase + 1;
      if (next < this.phases.length) {
        this.transitionTo(next);
        this.scheduleNext();
      } else {
        setTimeout(() => {
          if (this.playing) this.restart();
        }, this.loopPause);
      }
    }, dwell);
  }

  togglePlay() {
    this.playing = !this.playing;
    const iconPause = this.$(this.sel.iconPause);
    const iconPlay = this.$(this.sel.iconPlay);
    if (iconPause) iconPause.style.display = this.playing ? '' : 'none';
    if (iconPlay) iconPlay.style.display = this.playing ? 'none' : '';
    if (this.playing) this.scheduleNext();
    else clearTimeout(this.phaseTimer);
  }

  jumpTo(phase) {
    clearTimeout(this.phaseTimer);
    this.resetAllAnimations();
    this.transitionTo(phase);
    if (this.playing) this.scheduleNext();
  }

  restart() {
    clearTimeout(this.phaseTimer);
    this.resetAllAnimations();
    if (this.currentPhase !== 0) this.transitionTo(0);
    const callback = this.phaseCallbacks[0];
    if (callback) callback(this);
    if (this.playing) this.scheduleNext();
  }

  applyEmbedMode() {
    if (!this.isEmbed) return;
    const playback = this.$(this.sel.playbackBar);
    if (playback) playback.style.display = 'none';
    document.body.style.background = 'transparent';
    document.body.style.padding = '0';
    document.body.style.minHeight = 'auto';
    const scene = this.$(this.sel.scene);
    if (scene) {
      scene.style.maxWidth = '100%';
      scene.style.padding = '16px';
    }
  }

  boot() {
    this.applyTokenOverrides();
    this.applyEmbedMode();
    setTimeout(() => {
      this.measurePhases();
      const callback = this.phaseCallbacks[0];
      if (callback) callback(this);
      setTimeout(() => this.scheduleNext(), 400);
    }, 150);
  }

  exposeGlobals() {
    window.togglePlay = () => this.togglePlay();
    window.jumpTo = (phase) => this.jumpTo(phase);
    window.restart = () => this.restart();
  }
}
</script>

<!-- ================================================================
     CHOREOGRAPHY
     ================================================================ -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const engine = new EditorialEngine({
    phases: [
      { id: 0, label: 'Upload',     dwell: 3500 },
      { id: 1, label: 'Processing', dwell: 4000 },
      { id: 2, label: 'Ready',      dwell: 3500 },
    ],
    titles: ['Data Room', 'Processing Files', 'Ready to Share'],
    subtitles: [
      'Upload and organize your documents',
      'AI is scanning and categorizing',
      'Your data room is live',
    ],
    onPhaseEnter: {
      // Phase 0: Upload — blur reveal the upload zone + stats, then count up
      0: (eng) => {
        eng.runBlurReveal('upload', 200);
        eng.pushTimer(() => eng.runCountUp(900), 700);
      },

      // Phase 1: Processing — stagger file items, then progress + typewriter + checkmarks
      1: (eng) => {
        eng.runSlideStagger('files', 150);

        // Start progress bar after files appear
        eng.pushTimer(() => {
          const fill = document.getElementById('progress-fill');
          if (fill) {
            fill.style.transition = 'width 2400ms linear';
            fill.classList.add('animated');
          }
        }, 700);

        // Typewriter for scanning status
        eng.runTypewriter('#phase-1 .typewriter-text', 500);

        // Stagger checkmarks appearing after file items settle
        eng.pushTimer(() => {
          eng.runSlideStagger('checks', 200);
        }, 1200);
      },

      // Phase 2: Ready — blur reveal header, stagger categories + count up
      2: (eng) => {
        eng.runBlurReveal('ready', 200);
        eng.pushTimer(() => {
          eng.runSlideStagger('categories', 120);
        }, 400);
        eng.pushTimer(() => eng.runCountUp(600), 800);
      },
    },

    // Figma variable overrides — indigo accent from simulated get_variable_defs
    tokenOverrides: {
      '--ed-accent': '#6366f1',
      '--ed-accent-bg': '#eef2ff',
      '--ed-accent-text': '#4338ca',
      '--ed-border-active': '#6366f1',
      '--ed-gradient-start': '#eef2ff',
      '--ed-gradient-end': '#f5f3ff',
    },
  });

  engine.exposeGlobals();
  engine.boot();
});
</script>

</body>
</html>
